  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20210515183547)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210515183547"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRestaurants (20210515184651)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "delivery_tax" float, "city" varchar, "street" varchar, "neighborhood" varchar, "number" varchar, "complement" varchar, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_08f808c5fb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_restaurants_on_category_id" ON "restaurants" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210515184651"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20210515184826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_15a29c3a40"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_restaurant_id" ON "product_categories" ("restaurant_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210515184826"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20210515184937)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" float, "product_category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_efe167855e"
FOREIGN KEY ("product_category_id")
  REFERENCES "product_categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_product_category_id" ON "products" ("product_category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210515184937"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20210515185219)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "phone_number" varchar, "total_value" float, "city" varchar, "neighborhood" varchar, "number" varchar, "complement" varchar, "status" integer DEFAULT 0, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_9af093cac8"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_orders_on_restaurant_id" ON "orders" ("restaurant_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210515185219"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderProducts (20210515185254)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "quantity" integer, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f40b8ccee4"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_96c0709f78"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_products_on_order_id" ON "order_products" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_order_products_on_product_id" ON "order_products" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210515185254"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-15 18:53:49.195291"], ["updated_at", "2021-05-15 18:53:49.195291"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActiveStorageTables (20210515193549)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210515193549"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2021-05-15 16:39:38 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/wanderson/.rvm/gems/ruby-3.0.1/gems/railties-6.1.3.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/wanderson/.rvm/gems/ruby-3.0.1/gems/railties-6.1.3.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 9.4ms | Allocations: 524)
Completed 200 OK in 22ms (Views: 15.3ms | ActiveRecord: 0.0ms | Allocations: 4400)


Started GET "/favicon.ico" for 127.0.0.1 at 2021-05-15 16:39:38 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories"[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 1], ["title", "mexicana"], ["created_at", "2021-05-15 19:46:29.241062"], ["updated_at", "2021-05-15 19:46:29.241062"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ebcmuhacq04viyseh8ny57k3atz2"], ["filename", "mexican.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 164392], ["checksum", "GQF9otxCszErHnwhJPtaXQ=="], ["created_at", "2021-05-15 19:46:29.332952"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-05-15 19:46:29.334453"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:46:29.335951"], ["id", 1]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: ebcmuhacq04viyseh8ny57k3atz2 (checksum: GQF9otxCszErHnwhJPtaXQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 27524f27-a0e6-462a-b454-f6f4f7037324) to Async(default) with arguments: #<GlobalID:0x00005631fb2c1040 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 2], ["title", "italiana"], ["created_at", "2021-05-15 19:46:29.344591"], ["updated_at", "2021-05-15 19:46:29.344591"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "b6ac8motxqcnlpnu24drwab35ssz"], ["filename", "italian.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 125653], ["checksum", "VkJVIGot5n2w09P8J9LMJw=="], ["created_at", "2021-05-15 19:46:29.358015"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-05-15 19:46:29.360509"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:46:29.362236"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [27524f27-a0e6-462a-b454-f6f4f7037324] Performing ActiveStorage::AnalyzeJob (Job ID: 27524f27-a0e6-462a-b454-f6f4f7037324) from Async(default) enqueued at 2021-05-15T19:46:29Z with arguments: #<GlobalID:0x00007f5d9406aab0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/1>>
[36m  Disk Storage (13.9ms) [0m[32mUploaded file to key: b6ac8motxqcnlpnu24drwab35ssz (checksum: VkJVIGot5n2w09P8J9LMJw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1d4288fb-1009-46ef-a718-4139ea55c687) to Async(default) with arguments: #<GlobalID:0x00007f5d9420c738 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 3], ["title", "japonesa"], ["created_at", "2021-05-15 19:46:29.385037"], ["updated_at", "2021-05-15 19:46:29.385037"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "zc3v0ytmnrdo4u040wz7uwk9ck4v"], ["filename", "japonese.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 71527], ["checksum", "VroUMJbl9i+K077scUgt4A=="], ["created_at", "2021-05-15 19:46:29.407093"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-05-15 19:46:29.408794"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:46:29.410015"], ["id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [27524f27-a0e6-462a-b454-f6f4f7037324] [36m  Disk Storage (12.3ms) [0m[34mDownloaded file from key: ebcmuhacq04viyseh8ny57k3atz2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d4288fb-1009-46ef-a718-4139ea55c687] Performing ActiveStorage::AnalyzeJob (Job ID: 1d4288fb-1009-46ef-a718-4139ea55c687) from Async(default) enqueued at 2021-05-15T19:46:29Z with arguments: #<GlobalID:0x00007f5d8c040060 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/2>>
[36m  Disk Storage (5.3ms) [0m[32mUploaded file to key: zc3v0ytmnrdo4u040wz7uwk9ck4v (checksum: VroUMJbl9i+K077scUgt4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a3481e19-ad2e-4309-82af-fb308dbfa2ea) to Async(default) with arguments: #<GlobalID:0x00005631fbf8ac40 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/3>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 4], ["title", "vegana"], ["created_at", "2021-05-15 19:46:29.421590"], ["updated_at", "2021-05-15 19:46:29.421590"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [27524f27-a0e6-462a-b454-f6f4f7037324] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [27524f27-a0e6-462a-b454-f6f4f7037324]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [27524f27-a0e6-462a-b454-f6f4f7037324]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [27524f27-a0e6-462a-b454-f6f4f7037324]   [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [27524f27-a0e6-462a-b454-f6f4f7037324] Performed ActiveStorage::AnalyzeJob (Job ID: 27524f27-a0e6-462a-b454-f6f4f7037324) from Async(default) in 63.41ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d4288fb-1009-46ef-a718-4139ea55c687] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: b6ac8motxqcnlpnu24drwab35ssz[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3481e19-ad2e-4309-82af-fb308dbfa2ea] Performing ActiveStorage::AnalyzeJob (Job ID: a3481e19-ad2e-4309-82af-fb308dbfa2ea) from Async(default) enqueued at 2021-05-15T19:46:29Z with arguments: #<GlobalID:0x00007f5d90010488 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ghuszq24879l3a52xq14ou940ley"], ["filename", "vegan.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 216914], ["checksum", "CAi1dzXvL7/PU6p21wlK9w=="], ["created_at", "2021-05-15 19:46:29.442749"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 4], ["blob_id", 4], ["created_at", "2021-05-15 19:46:29.444543"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:46:29.446009"], ["id", 4]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3481e19-ad2e-4309-82af-fb308dbfa2ea] [36m  Disk Storage (6.3ms) [0m[34mDownloaded file from key: zc3v0ytmnrdo4u040wz7uwk9ck4v[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d4288fb-1009-46ef-a718-4139ea55c687] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d4288fb-1009-46ef-a718-4139ea55c687]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d4288fb-1009-46ef-a718-4139ea55c687]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d4288fb-1009-46ef-a718-4139ea55c687]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d4288fb-1009-46ef-a718-4139ea55c687] Performed ActiveStorage::AnalyzeJob (Job ID: 1d4288fb-1009-46ef-a718-4139ea55c687) from Async(default) in 38.58ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3481e19-ad2e-4309-82af-fb308dbfa2ea] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3481e19-ad2e-4309-82af-fb308dbfa2ea]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3481e19-ad2e-4309-82af-fb308dbfa2ea]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3481e19-ad2e-4309-82af-fb308dbfa2ea]   [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3481e19-ad2e-4309-82af-fb308dbfa2ea] Performed ActiveStorage::AnalyzeJob (Job ID: a3481e19-ad2e-4309-82af-fb308dbfa2ea) from Async(default) in 23.43ms
[36m  Disk Storage (14.3ms) [0m[32mUploaded file to key: ghuszq24879l3a52xq14ou940ley (checksum: CAi1dzXvL7/PU6p21wlK9w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 078b141d-076b-483c-97f7-558d54795116) to Async(default) with arguments: #<GlobalID:0x00007f5da81350f8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/4>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 5], ["title", "peruana"], ["created_at", "2021-05-15 19:46:29.465948"], ["updated_at", "2021-05-15 19:46:29.465948"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [078b141d-076b-483c-97f7-558d54795116] Performing ActiveStorage::AnalyzeJob (Job ID: 078b141d-076b-483c-97f7-558d54795116) from Async(default) enqueued at 2021-05-15T19:46:29Z with arguments: #<GlobalID:0x00007f5d9008dd70 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/4>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [078b141d-076b-483c-97f7-558d54795116] [36m  Disk Storage (4.2ms) [0m[34mDownloaded file from key: ghuszq24879l3a52xq14ou940ley[0m
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "z31p47x0fids0n0ku8iuxui804s8"], ["filename", "peruana.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 154270], ["checksum", "gV+ZcvQvV0QSJ79UeILL+g=="], ["created_at", "2021-05-15 19:46:29.478821"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 5], ["blob_id", 5], ["created_at", "2021-05-15 19:46:29.480260"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:46:29.481962"], ["id", 5]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [078b141d-076b-483c-97f7-558d54795116] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [078b141d-076b-483c-97f7-558d54795116]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [078b141d-076b-483c-97f7-558d54795116]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [078b141d-076b-483c-97f7-558d54795116]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [078b141d-076b-483c-97f7-558d54795116] Performed ActiveStorage::AnalyzeJob (Job ID: 078b141d-076b-483c-97f7-558d54795116) from Async(default) in 20.27ms
[36m  Disk Storage (7.2ms) [0m[32mUploaded file to key: z31p47x0fids0n0ku8iuxui804s8 (checksum: gV+ZcvQvV0QSJ79UeILL+g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 73b7d411-6712-48a6-b8cf-4db15f718a83) to Async(default) with arguments: #<GlobalID:0x00007f5da8185260 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/5>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [73b7d411-6712-48a6-b8cf-4db15f718a83] Performing ActiveStorage::AnalyzeJob (Job ID: 73b7d411-6712-48a6-b8cf-4db15f718a83) from Async(default) enqueued at 2021-05-15T19:46:29Z with arguments: #<GlobalID:0x00005631fa493f90 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [73b7d411-6712-48a6-b8cf-4db15f718a83] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: z31p47x0fids0n0ku8iuxui804s8[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Los Sombreros"], ["description", "Nossa missão tem sido ajudar as pessoas a alcançar seus objetivos de saúde e bem-estar. Embora tenhamos mudado ao longo dos anos, nossos valores permaneceram os mesmos."], ["delivery_tax", 5.5], ["city", "São Paulo"], ["street", "Bela terra"], ["neighborhood", "Mercês"], ["number", "1393"], ["category_id", 1], ["created_at", "2021-05-15 19:46:29.514931"], ["updated_at", "2021-05-15 19:46:29.514931"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [73b7d411-6712-48a6-b8cf-4db15f718a83] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [73b7d411-6712-48a6-b8cf-4db15f718a83]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [73b7d411-6712-48a6-b8cf-4db15f718a83]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tbehvo051o9556e8h38kpqo6xtx1"], ["filename", "1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 284707], ["checksum", "7r/DK32Mv5bcP+oY3ZoSew=="], ["created_at", "2021-05-15 19:46:29.528755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [73b7d411-6712-48a6-b8cf-4db15f718a83]   [1m[36mTRANSACTION (5014.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [73b7d411-6712-48a6-b8cf-4db15f718a83] Performed ActiveStorage::AnalyzeJob (Job ID: 73b7d411-6712-48a6-b8cf-4db15f718a83) from Async(default) in 5038.1ms
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories"[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mRestaurant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "restaurants" WHERE "restaurants"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCategory Destroy (0.3ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: a4556276-af48-4d4a-aa8c-16ff07695d3f) to Async(default) with arguments: #<GlobalID:0x00007f3b8c02a4d0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/1>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a4556276-af48-4d4a-aa8c-16ff07695d3f] Performing ActiveStorage::PurgeJob (Job ID: a4556276-af48-4d4a-aa8c-16ff07695d3f) from Async(default) enqueued at 2021-05-15T19:47:23Z with arguments: #<GlobalID:0x00007f3b8c04c6e8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 2]]
  [1m[36mCategory Destroy (0.2ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 27059ba3-2532-482d-8a9e-501241f27de3) to Async(default) with arguments: #<GlobalID:0x000055b6294109d0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 3]]
  [1m[36mCategory Destroy (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 7aae0094-8dea-4ef3-81cb-17c01037a120) to Async(default) with arguments: #<GlobalID:0x00007f3b8c13cd50 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [a4556276-af48-4d4a-aa8c-16ff07695d3f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3] Performing ActiveStorage::PurgeJob (Job ID: 27059ba3-2532-482d-8a9e-501241f27de3) from Async(default) enqueued at 2021-05-15T19:47:23Z with arguments: #<GlobalID:0x00007f3b840048c8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a4556276-af48-4d4a-aa8c-16ff07695d3f]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 4]]
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Destroy (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActiveJob] [ActiveStorage::PurgeJob] [a4556276-af48-4d4a-aa8c-16ff07695d3f]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a4556276-af48-4d4a-aa8c-16ff07695d3f]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a4556276-af48-4d4a-aa8c-16ff07695d3f]   [1m[36mActiveStorage::Blob Destroy (0.7ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3]   [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 2]]
  [1m[36mActiveStorage::Blob Load (5016.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a4556276-af48-4d4a-aa8c-16ff07695d3f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a4556276-af48-4d4a-aa8c-16ff07695d3f] Error performing ActiveStorage::PurgeJob (Job ID: a4556276-af48-4d4a-aa8c-16ff07695d3f) from Async(default) in 10078.24ms: ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:56:in `to_a'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:56:in `block (2 levels) in exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:47:in `block in exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:696:in `block (2 levels) in log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:695:in `block in log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:687:in `log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:46:in `exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:74:in `exec_delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:185:in `delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:395:in `_delete_record'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:877:in `_delete_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:873:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/counter_cache.rb:176:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/locking/optimistic.rb:120:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:539:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/callbacks.rb:439:in `block in destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:106:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:824:in `_run_destroy_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/callbacks.rb:439:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:294:in `block in destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `block in transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:310:in `block in within_new_transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:308:in `within_new_transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:350:in `with_transaction_returning_status'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:294:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activestorage-6.1.3.2/app/models/active_storage/blob.rb:296:in `purge'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activestorage-6.1.3.2/app/jobs/active_storage/purge_job.rb:11:in `perform'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:48:in `block in perform_now'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:117:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:21:in `block in instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications.rb:203:in `block in instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications.rb:203:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:31:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:14:in `block (2 levels) in <module:Instrumentation>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:22:in `block in tag_logger'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:99:in `block in tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:37:in `tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:99:in `tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:22:in `tag_logger'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:15:in `block (2 levels) in <module:Logging>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:137:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:47:in `perform_now'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:117:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/railtie.rb:47:in `block (4 levels) in <class:Railtie>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/railtie.rb:46:in `block (3 levels) in <class:Railtie>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:137:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:23:in `execute'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3]   [1m[36mActiveStorage::Blob Destroy (0.4ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 2]]
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3]   [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: b6ac8motxqcnlpnu24drwab35ssz[0m
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/b6ac8motxqcnlpnu24drwab35ssz/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [27059ba3-2532-482d-8a9e-501241f27de3] Performed ActiveStorage::PurgeJob (Job ID: 27059ba3-2532-482d-8a9e-501241f27de3) from Async(default) in 10055.78ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 1], ["title", "mexicana"], ["created_at", "2021-05-15 19:47:34.004836"], ["updated_at", "2021-05-15 19:47:34.004836"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "286hazb1nm92crosmxlnvks7ps57"], ["filename", "mexican.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 164392], ["checksum", "GQF9otxCszErHnwhJPtaXQ=="], ["created_at", "2021-05-15 19:47:34.084139"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 1], ["blob_id", 6], ["created_at", "2021-05-15 19:47:34.086255"]]
  [1m[36mCategory Update (0.2ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:34.087345"], ["id", 1]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.7ms) [0m[32mUploaded file to key: 286hazb1nm92crosmxlnvks7ps57 (checksum: GQF9otxCszErHnwhJPtaXQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 88976c61-521a-4ff0-8171-22d75485e27e) to Async(default) with arguments: #<GlobalID:0x000055b62931db90 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/6>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [88976c61-521a-4ff0-8171-22d75485e27e] Performing ActiveStorage::AnalyzeJob (Job ID: 88976c61-521a-4ff0-8171-22d75485e27e) from Async(default) enqueued at 2021-05-15T19:47:34Z with arguments: #<GlobalID:0x000055b6292d9a08 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/6>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [88976c61-521a-4ff0-8171-22d75485e27e] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 286hazb1nm92crosmxlnvks7ps57[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [88976c61-521a-4ff0-8171-22d75485e27e] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [88976c61-521a-4ff0-8171-22d75485e27e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [88976c61-521a-4ff0-8171-22d75485e27e]   [1m[36mActiveStorage::Blob Update (13.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [88976c61-521a-4ff0-8171-22d75485e27e]   [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [88976c61-521a-4ff0-8171-22d75485e27e] Performed ActiveStorage::AnalyzeJob (Job ID: 88976c61-521a-4ff0-8171-22d75485e27e) from Async(default) in 21.06ms
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 2], ["title", "italiana"], ["created_at", "2021-05-15 19:47:34.316442"], ["updated_at", "2021-05-15 19:47:34.316442"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "y60edb0ihnj4apv0yr3s9fg2w735"], ["filename", "italian.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 125653], ["checksum", "VkJVIGot5n2w09P8J9LMJw=="], ["created_at", "2021-05-15 19:47:34.384498"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 2], ["blob_id", 7], ["created_at", "2021-05-15 19:47:34.386947"]]
  [1m[36mCategory Update (0.2ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:34.388809"], ["id", 2]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.7ms) [0m[32mUploaded file to key: y60edb0ihnj4apv0yr3s9fg2w735 (checksum: VkJVIGot5n2w09P8J9LMJw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 473ce151-3fec-49d7-8c18-adda6e69f9c7) to Async(default) with arguments: #<GlobalID:0x000055b6285ede48 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/7>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [473ce151-3fec-49d7-8c18-adda6e69f9c7] Performing ActiveStorage::AnalyzeJob (Job ID: 473ce151-3fec-49d7-8c18-adda6e69f9c7) from Async(default) enqueued at 2021-05-15T19:47:34Z with arguments: #<GlobalID:0x000055b6285d7940 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [473ce151-3fec-49d7-8c18-adda6e69f9c7] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: y60edb0ihnj4apv0yr3s9fg2w735[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [473ce151-3fec-49d7-8c18-adda6e69f9c7] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [473ce151-3fec-49d7-8c18-adda6e69f9c7]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [473ce151-3fec-49d7-8c18-adda6e69f9c7]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [473ce151-3fec-49d7-8c18-adda6e69f9c7]   [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [473ce151-3fec-49d7-8c18-adda6e69f9c7] Performed ActiveStorage::AnalyzeJob (Job ID: 473ce151-3fec-49d7-8c18-adda6e69f9c7) from Async(default) in 6.47ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 3], ["title", "japonesa"], ["created_at", "2021-05-15 19:47:34.617531"], ["updated_at", "2021-05-15 19:47:34.617531"]]
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "qosm590wtifdjfc22v9qrqtlvg7k"], ["filename", "japonese.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 71527], ["checksum", "VroUMJbl9i+K077scUgt4A=="], ["created_at", "2021-05-15 19:47:34.756015"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 8], ["created_at", "2021-05-15 19:47:34.758377"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:34.759781"], ["id", 3]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: qosm590wtifdjfc22v9qrqtlvg7k (checksum: VroUMJbl9i+K077scUgt4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4c680e1e-0ea5-4018-8dea-78ab9b102978) to Async(default) with arguments: #<GlobalID:0x00007f3b9003f818 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/8>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4c680e1e-0ea5-4018-8dea-78ab9b102978] Performing ActiveStorage::AnalyzeJob (Job ID: 4c680e1e-0ea5-4018-8dea-78ab9b102978) from Async(default) enqueued at 2021-05-15T19:47:34Z with arguments: #<GlobalID:0x00007f3ba00eade8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/8>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4c680e1e-0ea5-4018-8dea-78ab9b102978] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: qosm590wtifdjfc22v9qrqtlvg7k[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4c680e1e-0ea5-4018-8dea-78ab9b102978] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [4c680e1e-0ea5-4018-8dea-78ab9b102978]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4c680e1e-0ea5-4018-8dea-78ab9b102978]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4c680e1e-0ea5-4018-8dea-78ab9b102978]   [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4c680e1e-0ea5-4018-8dea-78ab9b102978] Performed ActiveStorage::AnalyzeJob (Job ID: 4c680e1e-0ea5-4018-8dea-78ab9b102978) from Async(default) in 7.53ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 4], ["title", "vegana"], ["created_at", "2021-05-15 19:47:34.915278"], ["updated_at", "2021-05-15 19:47:34.915278"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 8]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "yw4y3k2lkcgaw2lv58o68xy5djes"], ["filename", "vegan.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 216914], ["checksum", "CAi1dzXvL7/PU6p21wlK9w=="], ["created_at", "2021-05-15 19:47:35.113571"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 9], ["created_at", "2021-05-15 19:47:35.114788"]]
  [1m[36mCategory Update (0.2ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:35.115492"], ["id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: yw4y3k2lkcgaw2lv58o68xy5djes (checksum: CAi1dzXvL7/PU6p21wlK9w==)[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 79b02726-e8bc-49fc-86f8-5bc5df05bc9d) to Async(default) with arguments: #<GlobalID:0x000055b629165c08 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/8>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 26939413-a838-41cf-824d-0cde713d29d9) to Async(default) with arguments: #<GlobalID:0x000055b62915dfa8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/9>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d] Performing ActiveStorage::PurgeJob (Job ID: 79b02726-e8bc-49fc-86f8-5bc5df05bc9d) from Async(default) enqueued at 2021-05-15T19:47:35Z with arguments: #<GlobalID:0x000055b6291ac3d8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/8>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26939413-a838-41cf-824d-0cde713d29d9] Performing ActiveStorage::AnalyzeJob (Job ID: 26939413-a838-41cf-824d-0cde713d29d9) from Async(default) enqueued at 2021-05-15T19:47:35Z with arguments: #<GlobalID:0x000055b62919edf0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/9>>
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d]   [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 8], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 8]]
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26939413-a838-41cf-824d-0cde713d29d9] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: yw4y3k2lkcgaw2lv58o68xy5djes[0m
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26939413-a838-41cf-824d-0cde713d29d9] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d] [36m  Disk Storage (0.4ms) [0m[31mDeleted file from key: qosm590wtifdjfc22v9qrqtlvg7k[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26939413-a838-41cf-824d-0cde713d29d9]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/qosm590wtifdjfc22v9qrqtlvg7k/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26939413-a838-41cf-824d-0cde713d29d9]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 9]]
[ActiveJob] [ActiveStorage::PurgeJob] [79b02726-e8bc-49fc-86f8-5bc5df05bc9d] Performed ActiveStorage::PurgeJob (Job ID: 79b02726-e8bc-49fc-86f8-5bc5df05bc9d) from Async(default) in 12.22ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [26939413-a838-41cf-824d-0cde713d29d9]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26939413-a838-41cf-824d-0cde713d29d9] Performed ActiveStorage::AnalyzeJob (Job ID: 26939413-a838-41cf-824d-0cde713d29d9) from Async(default) in 13.42ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 5], ["title", "peruana"], ["created_at", "2021-05-15 19:47:35.299135"], ["updated_at", "2021-05-15 19:47:35.299135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 9]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "y9c476v6zjeg0cbvbf3buwymgap7"], ["filename", "peruana.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 154270], ["checksum", "gV+ZcvQvV0QSJ79UeILL+g=="], ["created_at", "2021-05-15 19:47:35.353397"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 10], ["created_at", "2021-05-15 19:47:35.354835"]]
  [1m[36mCategory Update (0.2ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:35.356303"], ["id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.3ms) [0m[32mUploaded file to key: y9c476v6zjeg0cbvbf3buwymgap7 (checksum: gV+ZcvQvV0QSJ79UeILL+g==)[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 38b55251-9bda-44eb-ac60-46f0feb6cf77) to Async(default) with arguments: #<GlobalID:0x000055b627ee5d30 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/9>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 503ddc10-2cac-439f-b909-b9a798999fbf) to Async(default) with arguments: #<GlobalID:0x000055b627ebdb50 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/10>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77] Performing ActiveStorage::PurgeJob (Job ID: 38b55251-9bda-44eb-ac60-46f0feb6cf77) from Async(default) enqueued at 2021-05-15T19:47:35Z with arguments: #<GlobalID:0x000055b628140b70 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/9>>
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 9], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [503ddc10-2cac-439f-b909-b9a798999fbf] Performing ActiveStorage::AnalyzeJob (Job ID: 503ddc10-2cac-439f-b909-b9a798999fbf) from Async(default) enqueued at 2021-05-15T19:47:35Z with arguments: #<GlobalID:0x000055b6280c1168 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/10>>
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77]   [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 9]]
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 9]]
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77]   [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [503ddc10-2cac-439f-b909-b9a798999fbf] [36m  Disk Storage (5.1ms) [0m[34mDownloaded file from key: y9c476v6zjeg0cbvbf3buwymgap7[0m
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77] [36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: yw4y3k2lkcgaw2lv58o68xy5djes[0m
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/yw4y3k2lkcgaw2lv58o68xy5djes/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [38b55251-9bda-44eb-ac60-46f0feb6cf77] Performed ActiveStorage::PurgeJob (Job ID: 38b55251-9bda-44eb-ac60-46f0feb6cf77) from Async(default) in 12.31ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [503ddc10-2cac-439f-b909-b9a798999fbf] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [503ddc10-2cac-439f-b909-b9a798999fbf]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [503ddc10-2cac-439f-b909-b9a798999fbf]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 10]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [503ddc10-2cac-439f-b909-b9a798999fbf]   [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [503ddc10-2cac-439f-b909-b9a798999fbf] Performed ActiveStorage::AnalyzeJob (Job ID: 503ddc10-2cac-439f-b909-b9a798999fbf) from Async(default) in 15.28ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Los Sombreros"], ["description", "Nossa missão tem sido ajudar as pessoas a alcançar seus objetivos de saúde e bem-estar. Embora tenhamos mudado ao longo dos anos, nossos valores permaneceram os mesmos."], ["delivery_tax", 5.5], ["city", "São Paulo"], ["street", "Bela terra"], ["neighborhood", "Mercês"], ["number", "1393"], ["category_id", 1], ["created_at", "2021-05-15 19:47:35.764002"], ["updated_at", "2021-05-15 19:47:35.764002"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "sdgqxp03040z2pxk2csqpafcu77p"], ["filename", "1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 284707], ["checksum", "7r/DK32Mv5bcP+oY3ZoSew=="], ["created_at", "2021-05-15 19:47:35.830936"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 2], ["blob_id", 11], ["created_at", "2021-05-15 19:47:35.832806"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:35.834021"], ["id", 2]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (2.3ms) [0m[32mUploaded file to key: sdgqxp03040z2pxk2csqpafcu77p (checksum: 7r/DK32Mv5bcP+oY3ZoSew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 36cbeef3-39a9-4bc0-ac2e-dd75232e4d93) to Async(default) with arguments: #<GlobalID:0x000055b628bfebe8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/11>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [36cbeef3-39a9-4bc0-ac2e-dd75232e4d93] Performing ActiveStorage::AnalyzeJob (Job ID: 36cbeef3-39a9-4bc0-ac2e-dd75232e4d93) from Async(default) enqueued at 2021-05-15T19:47:35Z with arguments: #<GlobalID:0x000055b6290f6650 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/11>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [36cbeef3-39a9-4bc0-ac2e-dd75232e4d93] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: sdgqxp03040z2pxk2csqpafcu77p[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [36cbeef3-39a9-4bc0-ac2e-dd75232e4d93] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [36cbeef3-39a9-4bc0-ac2e-dd75232e4d93]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [36cbeef3-39a9-4bc0-ac2e-dd75232e4d93]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [36cbeef3-39a9-4bc0-ac2e-dd75232e4d93]   [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [36cbeef3-39a9-4bc0-ac2e-dd75232e4d93] Performed ActiveStorage::AnalyzeJob (Job ID: 36cbeef3-39a9-4bc0-ac2e-dd75232e4d93) from Async(default) in 6.0ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Pratos Mexicanos"], ["restaurant_id", 2], ["created_at", "2021-05-15 19:47:35.904689"], ["updated_at", "2021-05-15 19:47:35.904689"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho Guacamole"], ["description", "Tortilhas com Guacamole"], ["price", 19.0], ["product_category_id", 1], ["created_at", "2021-05-15 19:47:35.975226"], ["updated_at", "2021-05-15 19:47:35.975226"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "pf3gx6q5s0z0ufplahuhzmmzzlt9"], ["filename", "nachosg.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 39518], ["checksum", "gPUpvSnjV8pm4zEZHLjGJQ=="], ["created_at", "2021-05-15 19:47:36.036288"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 1], ["blob_id", 12], ["created_at", "2021-05-15 19:47:36.038086"]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:36.039859"], ["id", 1]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: pf3gx6q5s0z0ufplahuhzmmzzlt9 (checksum: gPUpvSnjV8pm4zEZHLjGJQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c5d46fa9-4a7b-46d0-ad49-038be4551490) to Async(default) with arguments: #<GlobalID:0x000055b629335e70 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/12>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5d46fa9-4a7b-46d0-ad49-038be4551490] Performing ActiveStorage::AnalyzeJob (Job ID: c5d46fa9-4a7b-46d0-ad49-038be4551490) from Async(default) enqueued at 2021-05-15T19:47:36Z with arguments: #<GlobalID:0x000055b629325188 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/12>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5d46fa9-4a7b-46d0-ad49-038be4551490] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: pf3gx6q5s0z0ufplahuhzmmzzlt9[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5d46fa9-4a7b-46d0-ad49-038be4551490] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5d46fa9-4a7b-46d0-ad49-038be4551490]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5d46fa9-4a7b-46d0-ad49-038be4551490]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5d46fa9-4a7b-46d0-ad49-038be4551490]   [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5d46fa9-4a7b-46d0-ad49-038be4551490] Performed ActiveStorage::AnalyzeJob (Job ID: c5d46fa9-4a7b-46d0-ad49-038be4551490) from Async(default) in 5.86ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho"], ["description", "Tortilhas com milho"], ["price", 19.0], ["product_category_id", 1], ["created_at", "2021-05-15 19:47:36.239450"], ["updated_at", "2021-05-15 19:47:36.239450"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xh8sb48b2o2n2bmmvelwy2h25z0y"], ["filename", "nachosg2.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 13502], ["checksum", "Lo233VpQQeinZVR67e3dQA=="], ["created_at", "2021-05-15 19:47:36.334031"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 2], ["blob_id", 13], ["created_at", "2021-05-15 19:47:36.335478"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:36.336812"], ["id", 2]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: xh8sb48b2o2n2bmmvelwy2h25z0y (checksum: Lo233VpQQeinZVR67e3dQA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd) to Async(default) with arguments: #<GlobalID:0x000055b62866f970 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/13>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd] Performing ActiveStorage::AnalyzeJob (Job ID: 16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd) from Async(default) enqueued at 2021-05-15T19:47:36Z with arguments: #<GlobalID:0x000055b628770dd8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/13>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: xh8sb48b2o2n2bmmvelwy2h25z0y[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd]   [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd] Performed ActiveStorage::AnalyzeJob (Job ID: 16c9e4fe-5746-44e6-ae9f-fbe8eb9794bd) from Async(default) in 7.63ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Los Sombreros - CWB"], ["description", "Nossa missão tem sido ajudar as pessoas a alcançar seus objetivos de saúde e bem-estar. Embora tenhamos mudado ao longo dos anos, nossos valores permaneceram os mesmos."], ["delivery_tax", 5.5], ["city", "Curitiba"], ["street", "Bela terra"], ["neighborhood", "Mercês"], ["number", "1393"], ["category_id", 1], ["created_at", "2021-05-15 19:47:36.525830"], ["updated_at", "2021-05-15 19:47:36.525830"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7nw6sa40r5qak60080fl3j7yv4uw"], ["filename", "1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 284707], ["checksum", "7r/DK32Mv5bcP+oY3ZoSew=="], ["created_at", "2021-05-15 19:47:36.613226"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 3], ["blob_id", 14], ["created_at", "2021-05-15 19:47:36.614664"]]
  [1m[36mRestaurant Update (0.3ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:36.615557"], ["id", 3]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: 7nw6sa40r5qak60080fl3j7yv4uw (checksum: 7r/DK32Mv5bcP+oY3ZoSew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3c2a0392-474e-44a4-8fe7-7b6dd2874aa8) to Async(default) with arguments: #<GlobalID:0x000055b6291870d8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/14>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3c2a0392-474e-44a4-8fe7-7b6dd2874aa8] Performing ActiveStorage::AnalyzeJob (Job ID: 3c2a0392-474e-44a4-8fe7-7b6dd2874aa8) from Async(default) enqueued at 2021-05-15T19:47:36Z with arguments: #<GlobalID:0x000055b629177868 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/14>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3c2a0392-474e-44a4-8fe7-7b6dd2874aa8] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 7nw6sa40r5qak60080fl3j7yv4uw[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3c2a0392-474e-44a4-8fe7-7b6dd2874aa8] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [3c2a0392-474e-44a4-8fe7-7b6dd2874aa8]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3c2a0392-474e-44a4-8fe7-7b6dd2874aa8]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3c2a0392-474e-44a4-8fe7-7b6dd2874aa8]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3c2a0392-474e-44a4-8fe7-7b6dd2874aa8] Performed ActiveStorage::AnalyzeJob (Job ID: 3c2a0392-474e-44a4-8fe7-7b6dd2874aa8) from Async(default) in 6.61ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Pratos Mexicanos"], ["restaurant_id", 3], ["created_at", "2021-05-15 19:47:36.752424"], ["updated_at", "2021-05-15 19:47:36.752424"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho Guacamole"], ["description", "Tortilhas com Guacamole"], ["price", 19.0], ["product_category_id", 2], ["created_at", "2021-05-15 19:47:36.846885"], ["updated_at", "2021-05-15 19:47:36.846885"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ep0hkshqre1fxa8ic49ke5q1iq36"], ["filename", "nachosg.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 39518], ["checksum", "gPUpvSnjV8pm4zEZHLjGJQ=="], ["created_at", "2021-05-15 19:47:36.926847"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 3], ["blob_id", 15], ["created_at", "2021-05-15 19:47:36.930139"]]
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:36.931607"], ["id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: ep0hkshqre1fxa8ic49ke5q1iq36 (checksum: gPUpvSnjV8pm4zEZHLjGJQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 47d87fa2-087c-4841-913b-21cf60ecddd5) to Async(default) with arguments: #<GlobalID:0x000055b62930c480 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/15>>
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [47d87fa2-087c-4841-913b-21cf60ecddd5] Performing ActiveStorage::AnalyzeJob (Job ID: 47d87fa2-087c-4841-913b-21cf60ecddd5) from Async(default) enqueued at 2021-05-15T19:47:36Z with arguments: #<GlobalID:0x000055b6292ca990 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/15>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [47d87fa2-087c-4841-913b-21cf60ecddd5] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: ep0hkshqre1fxa8ic49ke5q1iq36[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [47d87fa2-087c-4841-913b-21cf60ecddd5] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [47d87fa2-087c-4841-913b-21cf60ecddd5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [47d87fa2-087c-4841-913b-21cf60ecddd5]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 15]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [47d87fa2-087c-4841-913b-21cf60ecddd5]   [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [47d87fa2-087c-4841-913b-21cf60ecddd5] Performed ActiveStorage::AnalyzeJob (Job ID: 47d87fa2-087c-4841-913b-21cf60ecddd5) from Async(default) in 7.51ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho"], ["description", "Tortilhas com milho"], ["price", 19.0], ["product_category_id", 2], ["created_at", "2021-05-15 19:47:37.044696"], ["updated_at", "2021-05-15 19:47:37.044696"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "pk284ti06cna3wt4mp3ch0jdfj6n"], ["filename", "nachosg2.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 13502], ["checksum", "Lo233VpQQeinZVR67e3dQA=="], ["created_at", "2021-05-15 19:47:37.053125"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 4], ["blob_id", 16], ["created_at", "2021-05-15 19:47:37.054988"]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:47:37.056582"], ["id", 4]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: pk284ti06cna3wt4mp3ch0jdfj6n (checksum: Lo233VpQQeinZVR67e3dQA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3b968cbb-682f-4969-b9df-41405e11312d) to Async(default) with arguments: #<GlobalID:0x000055b62801a048 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/16>>
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b968cbb-682f-4969-b9df-41405e11312d] Performing ActiveStorage::AnalyzeJob (Job ID: 3b968cbb-682f-4969-b9df-41405e11312d) from Async(default) enqueued at 2021-05-15T19:47:37Z with arguments: #<GlobalID:0x000055b62822b580 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/16>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b968cbb-682f-4969-b9df-41405e11312d] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: pk284ti06cna3wt4mp3ch0jdfj6n[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b968cbb-682f-4969-b9df-41405e11312d] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b968cbb-682f-4969-b9df-41405e11312d]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b968cbb-682f-4969-b9df-41405e11312d]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 16]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b968cbb-682f-4969-b9df-41405e11312d]   [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b968cbb-682f-4969-b9df-41405e11312d] Performed ActiveStorage::AnalyzeJob (Job ID: 3b968cbb-682f-4969-b9df-41405e11312d) from Async(default) in 6.75ms
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.7ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 12]]
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: a3345e5f-ac0b-4a87-a535-bd56943692c4) to Async(default) with arguments: #<GlobalID:0x000055b62919cc08 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/12>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 13]]
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 2]]
[ActiveJob] [ActiveStorage::PurgeJob] [a3345e5f-ac0b-4a87-a535-bd56943692c4] Performing ActiveStorage::PurgeJob (Job ID: a3345e5f-ac0b-4a87-a535-bd56943692c4) from Async(default) enqueued at 2021-05-15T19:48:42Z with arguments: #<GlobalID:0x000055b62923fe08 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/12>>
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a3345e5f-ac0b-4a87-a535-bd56943692c4]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: a54b5eff-9582-41f2-827b-f364c9ccf9f1) to Async(default) with arguments: #<GlobalID:0x00007f3ba003bf28 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/13>>
[ActiveJob] [ActiveStorage::PurgeJob] [a3345e5f-ac0b-4a87-a535-bd56943692c4]   [1m[36mActiveStorage::Attachment Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 12], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [a3345e5f-ac0b-4a87-a535-bd56943692c4]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 12]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a3345e5f-ac0b-4a87-a535-bd56943692c4]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 15]]
[ActiveJob] [ActiveStorage::PurgeJob] [a3345e5f-ac0b-4a87-a535-bd56943692c4]   [1m[36mActiveStorage::Blob Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 12]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 3]]
[ActiveJob] [ActiveStorage::PurgeJob] [a3345e5f-ac0b-4a87-a535-bd56943692c4]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [a54b5eff-9582-41f2-827b-f364c9ccf9f1] Performing ActiveStorage::PurgeJob (Job ID: a54b5eff-9582-41f2-827b-f364c9ccf9f1) from Async(default) enqueued at 2021-05-15T19:48:42Z with arguments: #<GlobalID:0x00007f3ba00535d8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/13>>
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [a3345e5f-ac0b-4a87-a535-bd56943692c4] Error performing ActiveStorage::PurgeJob (Job ID: a3345e5f-ac0b-4a87-a535-bd56943692c4) from Async(default) in 12.31ms: ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:56:in `to_a'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:56:in `block (2 levels) in exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:47:in `block in exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:696:in `block (2 levels) in log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:695:in `block in log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:687:in `log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:46:in `exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:74:in `exec_delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:185:in `delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:395:in `_delete_record'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:877:in `_delete_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:873:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/counter_cache.rb:176:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/locking/optimistic.rb:120:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:539:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/callbacks.rb:439:in `block in destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:106:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:824:in `_run_destroy_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/callbacks.rb:439:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:294:in `block in destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `block in transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:310:in `block in within_new_transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:308:in `within_new_transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:350:in `with_transaction_returning_status'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:294:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activestorage-6.1.3.2/app/models/active_storage/blob.rb:296:in `purge'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activestorage-6.1.3.2/app/jobs/active_storage/purge_job.rb:11:in `perform'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:48:in `block in perform_now'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:117:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:21:in `block in instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications.rb:203:in `block in instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications.rb:203:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:31:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:14:in `block (2 levels) in <module:Instrumentation>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:22:in `block in tag_logger'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:99:in `block in tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:37:in `tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:99:in `tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:22:in `tag_logger'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:15:in `block (2 levels) in <module:Logging>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:137:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:47:in `perform_now'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:117:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/railtie.rb:47:in `block (4 levels) in <class:Railtie>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/railtie.rb:46:in `block (3 levels) in <class:Railtie>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:137:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:23:in `execute'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[ActiveJob] [ActiveStorage::PurgeJob] [a54b5eff-9582-41f2-827b-f364c9ccf9f1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a54b5eff-9582-41f2-827b-f364c9ccf9f1]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 13], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 873c27ba-cef4-4b78-ad62-b911a9a6111f) to Async(default) with arguments: #<GlobalID:0x000055b6292f7080 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/15>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a54b5eff-9582-41f2-827b-f364c9ccf9f1]   [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 13]]
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 16]]
[ActiveJob] [ActiveStorage::PurgeJob] [a54b5eff-9582-41f2-827b-f364c9ccf9f1]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [a54b5eff-9582-41f2-827b-f364c9ccf9f1]   [1m[36mActiveStorage::Blob Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 13]]
[ActiveJob] [ActiveStorage::PurgeJob] [a54b5eff-9582-41f2-827b-f364c9ccf9f1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [a54b5eff-9582-41f2-827b-f364c9ccf9f1] Error performing ActiveStorage::PurgeJob (Job ID: a54b5eff-9582-41f2-827b-f364c9ccf9f1) from Async(default) in 8.7ms: ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:56:in `to_a'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:56:in `block (2 levels) in exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:47:in `block in exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:696:in `block (2 levels) in log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:695:in `block in log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:687:in `log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:46:in `exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:74:in `exec_delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:185:in `delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:395:in `_delete_record'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:877:in `_delete_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:873:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/counter_cache.rb:176:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/locking/optimistic.rb:120:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:539:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/callbacks.rb:439:in `block in destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:106:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:824:in `_run_destroy_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/callbacks.rb:439:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:294:in `block in destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `block in transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:310:in `block in within_new_transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:308:in `within_new_transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:350:in `with_transaction_returning_status'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:294:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activestorage-6.1.3.2/app/models/active_storage/blob.rb:296:in `purge'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activestorage-6.1.3.2/app/jobs/active_storage/purge_job.rb:11:in `perform'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:48:in `block in perform_now'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:117:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:21:in `block in instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications.rb:203:in `block in instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications.rb:203:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:31:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:14:in `block (2 levels) in <module:Instrumentation>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:22:in `block in tag_logger'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:99:in `block in tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:37:in `tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:99:in `tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:22:in `tag_logger'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:15:in `block (2 levels) in <module:Logging>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:137:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:47:in `perform_now'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:117:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/railtie.rb:47:in `block (4 levels) in <class:Railtie>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/railtie.rb:46:in `block (3 levels) in <class:Railtie>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:137:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:23:in `execute'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 4]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f] Performing ActiveStorage::PurgeJob (Job ID: 873c27ba-cef4-4b78-ad62-b911a9a6111f) from Async(default) enqueued at 2021-05-15T19:48:42Z with arguments: #<GlobalID:0x00007f3b8c00ef78 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/15>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: ec7a6d9e-38b6-41c9-8328-52055fb7b478) to Async(default) with arguments: #<GlobalID:0x00007f3b8c08d080 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/16>>
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 15], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 15]]
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 15]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f]   [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478] Performing ActiveStorage::PurgeJob (Job ID: ec7a6d9e-38b6-41c9-8328-52055fb7b478) from Async(default) enqueued at 2021-05-15T19:48:42Z with arguments: #<GlobalID:0x00007f3b8c19e960 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/16>>
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f] [36m  Disk Storage (0.4ms) [0m[31mDeleted file from key: ep0hkshqre1fxa8ic49ke5q1iq36[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f] [36m  Disk Storage (0.0ms) [0m[31mDeleted files by key prefix: variants/ep0hkshqre1fxa8ic49ke5q1iq36/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 16], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478]   [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 16]]
[ActiveJob] [ActiveStorage::PurgeJob] [873c27ba-cef4-4b78-ad62-b911a9a6111f] Performed ActiveStorage::PurgeJob (Job ID: 873c27ba-cef4-4b78-ad62-b911a9a6111f) from Async(default) in 15.61ms
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 16]]
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478]   [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478] [36m  Disk Storage (0.4ms) [0m[31mDeleted file from key: pk284ti06cna3wt4mp3ch0jdfj6n[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478] [36m  Disk Storage (0.0ms) [0m[31mDeleted files by key prefix: variants/pk284ti06cna3wt4mp3ch0jdfj6n/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ec7a6d9e-38b6-41c9-8328-52055fb7b478] Performed ActiveStorage::PurgeJob (Job ID: ec7a6d9e-38b6-41c9-8328-52055fb7b478) from Async(default) in 7.82ms
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Destroy (0.2ms)[0m  [1m[31mDELETE FROM "product_categories" WHERE "product_categories"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Destroy (0.3ms)[0m  [1m[31mDELETE FROM "product_categories" WHERE "product_categories"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 11]]
  [1m[36mRestaurant Destroy (0.1ms)[0m  [1m[31mDELETE FROM "restaurants" WHERE "restaurants"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9401a6c7-91df-48fd-9cfd-925b4fa91112) to Async(default) with arguments: #<GlobalID:0x000055b6285a4f40 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/11>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 14]]
  [1m[36mRestaurant Destroy (0.1ms)[0m  [1m[31mDELETE FROM "restaurants" WHERE "restaurants"."id" = ?[0m  [["id", 3]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9401a6c7-91df-48fd-9cfd-925b4fa91112] Performing ActiveStorage::PurgeJob (Job ID: 9401a6c7-91df-48fd-9cfd-925b4fa91112) from Async(default) enqueued at 2021-05-15T19:48:45Z with arguments: #<GlobalID:0x000055b628627cd8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/11>>
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e363fb3c-15cb-463b-baf9-52b91daf8773) to Async(default) with arguments: #<GlobalID:0x000055b62861d350 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/14>>
[ActiveJob] [ActiveStorage::PurgeJob] [9401a6c7-91df-48fd-9cfd-925b4fa91112]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9401a6c7-91df-48fd-9cfd-925b4fa91112]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9401a6c7-91df-48fd-9cfd-925b4fa91112]   [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 11]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9401a6c7-91df-48fd-9cfd-925b4fa91112]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 6]]
  [1m[36mCategory Destroy (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9401a6c7-91df-48fd-9cfd-925b4fa91112]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 11]]
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773] Performing ActiveStorage::PurgeJob (Job ID: e363fb3c-15cb-463b-baf9-52b91daf8773) from Async(default) enqueued at 2021-05-15T19:48:45Z with arguments: #<GlobalID:0x000055b6286efd28 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/14>>
  [1m[36mTRANSACTION (5012.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9401a6c7-91df-48fd-9cfd-925b4fa91112]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9401a6c7-91df-48fd-9cfd-925b4fa91112] Error performing ActiveStorage::PurgeJob (Job ID: 9401a6c7-91df-48fd-9cfd-925b4fa91112) from Async(default) in 5070.47ms: ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:56:in `to_a'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:56:in `block (2 levels) in exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:47:in `block in exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:696:in `block (2 levels) in log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:695:in `block in log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:687:in `log'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:46:in `exec_query'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:74:in `exec_delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:185:in `delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `delete'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:395:in `_delete_record'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:877:in `_delete_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:873:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/counter_cache.rb:176:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/locking/optimistic.rb:120:in `destroy_row'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/persistence.rb:539:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/callbacks.rb:439:in `block in destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:106:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:824:in `_run_destroy_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/callbacks.rb:439:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:294:in `block in destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `block in transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:310:in `block in within_new_transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:308:in `within_new_transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `transaction'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:350:in `with_transaction_returning_status'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activerecord-6.1.3.2/lib/active_record/transactions.rb:294:in `destroy'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activestorage-6.1.3.2/app/models/active_storage/blob.rb:296:in `purge'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activestorage-6.1.3.2/app/jobs/active_storage/purge_job.rb:11:in `perform'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:48:in `block in perform_now'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:117:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:21:in `block in instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications.rb:203:in `block in instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/notifications.rb:203:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:31:in `instrument'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/instrumentation.rb:14:in `block (2 levels) in <module:Instrumentation>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:22:in `block in tag_logger'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:99:in `block in tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:37:in `tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/tagged_logging.rb:99:in `tagged'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:22:in `tag_logger'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/logging.rb:15:in `block (2 levels) in <module:Logging>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:137:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:47:in `perform_now'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:117:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/railtie.rb:47:in `block (4 levels) in <class:Railtie>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/railtie.rb:46:in `block (3 levels) in <class:Railtie>'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `instance_exec'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activesupport-6.1.3.2/lib/active_support/callbacks.rb:137:in `run_callbacks'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/execution.rb:23:in `execute'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/activejob-6.1.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/wanderson/.rvm/gems/ruby-3.0.1/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773]   [1m[36mActiveStorage::Attachment Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 14], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 14]]
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 14]]
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 7nw6sa40r5qak60080fl3j7yv4uw[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773] [36m  Disk Storage (0.0ms) [0m[31mDeleted files by key prefix: variants/7nw6sa40r5qak60080fl3j7yv4uw/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e363fb3c-15cb-463b-baf9-52b91daf8773] Performed ActiveStorage::PurgeJob (Job ID: e363fb3c-15cb-463b-baf9-52b91daf8773) from Async(default) in 12.27ms
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 1], ["title", "mexicana"], ["created_at", "2021-05-15 19:49:11.031103"], ["updated_at", "2021-05-15 19:49:11.031103"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 10]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cxy62h3v45imbt0mytzahspkzgyi"], ["filename", "mexican.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 164392], ["checksum", "GQF9otxCszErHnwhJPtaXQ=="], ["created_at", "2021-05-15 19:49:11.076139"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 17], ["created_at", "2021-05-15 19:49:11.077272"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:49:11.077928"], ["id", 3]]
  [1m[36mTRANSACTION (51.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: cxy62h3v45imbt0mytzahspkzgyi (checksum: GQF9otxCszErHnwhJPtaXQ==)[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 47db904f-46b1-4d47-8ed3-c73ecd7a7f22) to Async(default) with arguments: #<GlobalID:0x000055b62911ff78 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/10>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0568ecca-8934-467c-9581-e63773c14198) to Async(default) with arguments: #<GlobalID:0x000055b629117260 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/17>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22] Performing ActiveStorage::PurgeJob (Job ID: 47db904f-46b1-4d47-8ed3-c73ecd7a7f22) from Async(default) enqueued at 2021-05-15T19:49:11Z with arguments: #<GlobalID:0x000055b629105a10 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/10>>
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 10], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22]   [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 10]]
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 10]]
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22] [36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: y9c476v6zjeg0cbvbf3buwymgap7[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0568ecca-8934-467c-9581-e63773c14198] Performing ActiveStorage::AnalyzeJob (Job ID: 0568ecca-8934-467c-9581-e63773c14198) from Async(default) enqueued at 2021-05-15T19:49:11Z with arguments: #<GlobalID:0x000055b6291ac888 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/17>>
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/y9c476v6zjeg0cbvbf3buwymgap7/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [47db904f-46b1-4d47-8ed3-c73ecd7a7f22] Performed ActiveStorage::PurgeJob (Job ID: 47db904f-46b1-4d47-8ed3-c73ecd7a7f22) from Async(default) in 8.3ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [0568ecca-8934-467c-9581-e63773c14198] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: cxy62h3v45imbt0mytzahspkzgyi[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0568ecca-8934-467c-9581-e63773c14198] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [0568ecca-8934-467c-9581-e63773c14198]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0568ecca-8934-467c-9581-e63773c14198]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 17]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0568ecca-8934-467c-9581-e63773c14198]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0568ecca-8934-467c-9581-e63773c14198] Performed ActiveStorage::AnalyzeJob (Job ID: 0568ecca-8934-467c-9581-e63773c14198) from Async(default) in 8.82ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 2], ["title", "italiana"], ["created_at", "2021-05-15 19:49:11.241809"], ["updated_at", "2021-05-15 19:49:11.241809"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 17]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9uwxeugq6wz2vnzh9l797dt0bztp"], ["filename", "italian.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 125653], ["checksum", "VkJVIGot5n2w09P8J9LMJw=="], ["created_at", "2021-05-15 19:49:11.304230"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 18], ["created_at", "2021-05-15 19:49:11.305219"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:49:11.306118"], ["id", 3]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: 9uwxeugq6wz2vnzh9l797dt0bztp (checksum: VkJVIGot5n2w09P8J9LMJw==)[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9d389ee8-056d-46a8-97e4-2d2539aafac3) to Async(default) with arguments: #<GlobalID:0x000055b6281e1868 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/17>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: da4347d3-86c9-4d21-8d92-0c3523bf31a8) to Async(default) with arguments: #<GlobalID:0x000055b62818bcd8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/18>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3] Performing ActiveStorage::PurgeJob (Job ID: 9d389ee8-056d-46a8-97e4-2d2539aafac3) from Async(default) enqueued at 2021-05-15T19:49:11Z with arguments: #<GlobalID:0x000055b62843b2d0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/17>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [da4347d3-86c9-4d21-8d92-0c3523bf31a8] Performing ActiveStorage::AnalyzeJob (Job ID: da4347d3-86c9-4d21-8d92-0c3523bf31a8) from Async(default) enqueued at 2021-05-15T19:49:11Z with arguments: #<GlobalID:0x000055b62841b3b8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/18>>
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 17], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 17]]
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 17], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 17]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [da4347d3-86c9-4d21-8d92-0c3523bf31a8] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: 9uwxeugq6wz2vnzh9l797dt0bztp[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: cxy62h3v45imbt0mytzahspkzgyi[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/cxy62h3v45imbt0mytzahspkzgyi/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9d389ee8-056d-46a8-97e4-2d2539aafac3] Performed ActiveStorage::PurgeJob (Job ID: 9d389ee8-056d-46a8-97e4-2d2539aafac3) from Async(default) in 8.04ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [da4347d3-86c9-4d21-8d92-0c3523bf31a8] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [da4347d3-86c9-4d21-8d92-0c3523bf31a8]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [da4347d3-86c9-4d21-8d92-0c3523bf31a8]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 18]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [da4347d3-86c9-4d21-8d92-0c3523bf31a8]   [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [da4347d3-86c9-4d21-8d92-0c3523bf31a8] Performed ActiveStorage::AnalyzeJob (Job ID: da4347d3-86c9-4d21-8d92-0c3523bf31a8) from Async(default) in 11.38ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 3], ["title", "japonesa"], ["created_at", "2021-05-15 19:49:11.441614"], ["updated_at", "2021-05-15 19:49:11.441614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 18]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hsqssmryyojey87z2emvjb2w94no"], ["filename", "japonese.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 71527], ["checksum", "VroUMJbl9i+K077scUgt4A=="], ["created_at", "2021-05-15 19:49:11.489995"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 19], ["created_at", "2021-05-15 19:49:11.491214"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:49:11.491872"], ["id", 3]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: hsqssmryyojey87z2emvjb2w94no (checksum: VroUMJbl9i+K077scUgt4A==)[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e242f964-ccff-4aa8-bf73-5d66dab885b6) to Async(default) with arguments: #<GlobalID:0x00007f3b8c191b20 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/18>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b29128c4-b1d1-4281-a9f4-ade588506c91) to Async(default) with arguments: #<GlobalID:0x00007f3ba00bb110 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/19>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6] Performing ActiveStorage::PurgeJob (Job ID: e242f964-ccff-4aa8-bf73-5d66dab885b6) from Async(default) enqueued at 2021-05-15T19:49:11Z with arguments: #<GlobalID:0x00007f3ba00ca7f0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/18>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 18], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b29128c4-b1d1-4281-a9f4-ade588506c91] Performing ActiveStorage::AnalyzeJob (Job ID: b29128c4-b1d1-4281-a9f4-ade588506c91) from Async(default) enqueued at 2021-05-15T19:49:11Z with arguments: #<GlobalID:0x00007f3b8c1c2248 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/19>>
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6]   [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 18]]
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 18], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 18]]
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b29128c4-b1d1-4281-a9f4-ade588506c91] [36m  Disk Storage (3.2ms) [0m[34mDownloaded file from key: hsqssmryyojey87z2emvjb2w94no[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6] [36m  Disk Storage (1.4ms) [0m[31mDeleted file from key: 9uwxeugq6wz2vnzh9l797dt0bztp[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b29128c4-b1d1-4281-a9f4-ade588506c91] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/9uwxeugq6wz2vnzh9l797dt0bztp/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e242f964-ccff-4aa8-bf73-5d66dab885b6] Performed ActiveStorage::PurgeJob (Job ID: e242f964-ccff-4aa8-bf73-5d66dab885b6) from Async(default) in 9.84ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [b29128c4-b1d1-4281-a9f4-ade588506c91]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b29128c4-b1d1-4281-a9f4-ade588506c91]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 19]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b29128c4-b1d1-4281-a9f4-ade588506c91]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b29128c4-b1d1-4281-a9f4-ade588506c91] Performed ActiveStorage::AnalyzeJob (Job ID: b29128c4-b1d1-4281-a9f4-ade588506c91) from Async(default) in 10.93ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 4], ["title", "vegana"], ["created_at", "2021-05-15 19:49:11.631924"], ["updated_at", "2021-05-15 19:49:11.631924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 19]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "zjpk0z6x0wztpysc7dd6ib4qa9c9"], ["filename", "vegan.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 216914], ["checksum", "CAi1dzXvL7/PU6p21wlK9w=="], ["created_at", "2021-05-15 19:49:11.717405"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 20], ["created_at", "2021-05-15 19:49:11.718553"]]
  [1m[36mCategory Update (0.1ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2021-05-15 19:49:11.719576"], ["id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: zjpk0z6x0wztpysc7dd6ib4qa9c9 (checksum: CAi1dzXvL7/PU6p21wlK9w==)[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313) to Async(default) with arguments: #<GlobalID:0x000055b6291e6b28 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/19>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5835a778-8edb-4a43-8320-aaa3c0a2629c) to Async(default) with arguments: #<GlobalID:0x000055b629258430 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/20>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313] Performing ActiveStorage::PurgeJob (Job ID: 5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313) from Async(default) enqueued at 2021-05-15T19:49:11Z with arguments: #<GlobalID:0x000055b62923f278 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/19>>
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313]   [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 19], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313]   [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 19]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5835a778-8edb-4a43-8320-aaa3c0a2629c] Performing ActiveStorage::AnalyzeJob (Job ID: 5835a778-8edb-4a43-8320-aaa3c0a2629c) from Async(default) enqueued at 2021-05-15T19:49:11Z with arguments: #<GlobalID:0x00007f3ba004bc48 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/20>>
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 19], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 19]]
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5835a778-8edb-4a43-8320-aaa3c0a2629c] [36m  Disk Storage (4.0ms) [0m[34mDownloaded file from key: zjpk0z6x0wztpysc7dd6ib4qa9c9[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: hsqssmryyojey87z2emvjb2w94no[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/hsqssmryyojey87z2emvjb2w94no/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313] Performed ActiveStorage::PurgeJob (Job ID: 5d4b9e3d-7f3e-4d67-a8e4-8c9532fc1313) from Async(default) in 8.63ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [5835a778-8edb-4a43-8320-aaa3c0a2629c] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [5835a778-8edb-4a43-8320-aaa3c0a2629c]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5835a778-8edb-4a43-8320-aaa3c0a2629c]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 20]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5835a778-8edb-4a43-8320-aaa3c0a2629c]   [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5835a778-8edb-4a43-8320-aaa3c0a2629c] Performed ActiveStorage::AnalyzeJob (Job ID: 5835a778-8edb-4a43-8320-aaa3c0a2629c) from Async(default) in 11.06ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 5], ["title", "peruana"], ["created_at", "2021-05-15 19:49:26.809414"], ["updated_at", "2021-05-15 19:49:26.809414"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Los Sombreros"], ["description", "Nossa missão tem sido ajudar as pessoas a alcançar seus objetivos de saúde e bem-estar. Embora tenhamos mudado ao longo dos anos, nossos valores permaneceram os mesmos."], ["delivery_tax", 5.5], ["city", "São Paulo"], ["street", "Bela terra"], ["neighborhood", "Mercês"], ["number", "1393"], ["category_id", 1], ["created_at", "2021-05-15 19:50:19.836696"], ["updated_at", "2021-05-15 19:50:19.836696"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "147qf32lmii6zcnflo3bfw54otgd"], ["filename", "1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 284707], ["checksum", "7r/DK32Mv5bcP+oY3ZoSew=="], ["created_at", "2021-05-15 19:50:19.905658"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 4], ["blob_id", 21], ["created_at", "2021-05-15 19:50:19.906775"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:19.907585"], ["id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: 147qf32lmii6zcnflo3bfw54otgd (checksum: 7r/DK32Mv5bcP+oY3ZoSew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 03a77f6f-ba3c-4ca3-b407-d466d291e23c) to Async(default) with arguments: #<GlobalID:0x000055b628269880 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/21>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [03a77f6f-ba3c-4ca3-b407-d466d291e23c] Performing ActiveStorage::AnalyzeJob (Job ID: 03a77f6f-ba3c-4ca3-b407-d466d291e23c) from Async(default) enqueued at 2021-05-15T19:50:19Z with arguments: #<GlobalID:0x000055b6281f0a20 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/21>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [03a77f6f-ba3c-4ca3-b407-d466d291e23c] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 147qf32lmii6zcnflo3bfw54otgd[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [03a77f6f-ba3c-4ca3-b407-d466d291e23c] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [03a77f6f-ba3c-4ca3-b407-d466d291e23c]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [03a77f6f-ba3c-4ca3-b407-d466d291e23c]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 21]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [03a77f6f-ba3c-4ca3-b407-d466d291e23c]   [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [03a77f6f-ba3c-4ca3-b407-d466d291e23c] Performed ActiveStorage::AnalyzeJob (Job ID: 03a77f6f-ba3c-4ca3-b407-d466d291e23c) from Async(default) in 8.8ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Pratos Mexicanos"], ["restaurant_id", 4], ["created_at", "2021-05-15 19:50:19.971136"], ["updated_at", "2021-05-15 19:50:19.971136"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho Guacamole"], ["description", "Tortilhas com Guacamole"], ["price", 19.0], ["product_category_id", 3], ["created_at", "2021-05-15 19:50:20.035448"], ["updated_at", "2021-05-15 19:50:20.035448"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "svnco1118ni0s276m01orl1kwtth"], ["filename", "nachosg.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 39518], ["checksum", "gPUpvSnjV8pm4zEZHLjGJQ=="], ["created_at", "2021-05-15 19:50:20.101326"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 5], ["blob_id", 22], ["created_at", "2021-05-15 19:50:20.103303"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:20.104313"], ["id", 5]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: svnco1118ni0s276m01orl1kwtth (checksum: gPUpvSnjV8pm4zEZHLjGJQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 557e731e-754f-427c-92d7-0f14d0f057c9) to Async(default) with arguments: #<GlobalID:0x000055b6289f2278 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/22>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [557e731e-754f-427c-92d7-0f14d0f057c9] Performing ActiveStorage::AnalyzeJob (Job ID: 557e731e-754f-427c-92d7-0f14d0f057c9) from Async(default) enqueued at 2021-05-15T19:50:20Z with arguments: #<GlobalID:0x000055b6288ecd88 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/22>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [557e731e-754f-427c-92d7-0f14d0f057c9] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: svnco1118ni0s276m01orl1kwtth[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [557e731e-754f-427c-92d7-0f14d0f057c9] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [557e731e-754f-427c-92d7-0f14d0f057c9]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [557e731e-754f-427c-92d7-0f14d0f057c9]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 22]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [557e731e-754f-427c-92d7-0f14d0f057c9]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [557e731e-754f-427c-92d7-0f14d0f057c9] Performed ActiveStorage::AnalyzeJob (Job ID: 557e731e-754f-427c-92d7-0f14d0f057c9) from Async(default) in 4.85ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho"], ["description", "Tortilhas com milho"], ["price", 19.0], ["product_category_id", 3], ["created_at", "2021-05-15 19:50:21.513981"], ["updated_at", "2021-05-15 19:50:21.513981"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "944ckuwt1n6stsrjmqisz2pxaon0"], ["filename", "nachosg2.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 13502], ["checksum", "Lo233VpQQeinZVR67e3dQA=="], ["created_at", "2021-05-15 19:50:21.538845"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 6], ["blob_id", 23], ["created_at", "2021-05-15 19:50:21.541023"]]
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:21.542404"], ["id", 6]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: 944ckuwt1n6stsrjmqisz2pxaon0 (checksum: Lo233VpQQeinZVR67e3dQA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ff0ed75b-c7ce-46d6-922e-d01d078d3964) to Async(default) with arguments: #<GlobalID:0x000055b62951a8f8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/23>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0ed75b-c7ce-46d6-922e-d01d078d3964] Performing ActiveStorage::AnalyzeJob (Job ID: ff0ed75b-c7ce-46d6-922e-d01d078d3964) from Async(default) enqueued at 2021-05-15T19:50:21Z with arguments: #<GlobalID:0x000055b6295025c8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/23>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0ed75b-c7ce-46d6-922e-d01d078d3964] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 944ckuwt1n6stsrjmqisz2pxaon0[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0ed75b-c7ce-46d6-922e-d01d078d3964] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0ed75b-c7ce-46d6-922e-d01d078d3964]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0ed75b-c7ce-46d6-922e-d01d078d3964]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 23]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0ed75b-c7ce-46d6-922e-d01d078d3964]   [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0ed75b-c7ce-46d6-922e-d01d078d3964] Performed ActiveStorage::AnalyzeJob (Job ID: ff0ed75b-c7ce-46d6-922e-d01d078d3964) from Async(default) in 7.84ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Los Sombreros - CWB"], ["description", "Nossa missão tem sido ajudar as pessoas a alcançar seus objetivos de saúde e bem-estar. Embora tenhamos mudado ao longo dos anos, nossos valores permaneceram os mesmos."], ["delivery_tax", 5.5], ["city", "Curitiba"], ["street", "Bela terra"], ["neighborhood", "Mercês"], ["number", "1393"], ["category_id", 1], ["created_at", "2021-05-15 19:50:36.312855"], ["updated_at", "2021-05-15 19:50:36.312855"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rrqzx2vx9j1t01ilay8f9cl3jdnh"], ["filename", "1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 284707], ["checksum", "7r/DK32Mv5bcP+oY3ZoSew=="], ["created_at", "2021-05-15 19:50:36.373817"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 5], ["blob_id", 24], ["created_at", "2021-05-15 19:50:36.375185"]]
  [1m[36mRestaurant Update (0.2ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:36.376172"], ["id", 5]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: rrqzx2vx9j1t01ilay8f9cl3jdnh (checksum: 7r/DK32Mv5bcP+oY3ZoSew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cf59475f-5901-4c05-8d9d-49e4cc86b3af) to Async(default) with arguments: #<GlobalID:0x000055b6290e6318 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/24>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf59475f-5901-4c05-8d9d-49e4cc86b3af] Performing ActiveStorage::AnalyzeJob (Job ID: cf59475f-5901-4c05-8d9d-49e4cc86b3af) from Async(default) enqueued at 2021-05-15T19:50:36Z with arguments: #<GlobalID:0x000055b6290d42d0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/24>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf59475f-5901-4c05-8d9d-49e4cc86b3af] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: rrqzx2vx9j1t01ilay8f9cl3jdnh[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf59475f-5901-4c05-8d9d-49e4cc86b3af] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf59475f-5901-4c05-8d9d-49e4cc86b3af]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf59475f-5901-4c05-8d9d-49e4cc86b3af]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 24]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf59475f-5901-4c05-8d9d-49e4cc86b3af]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf59475f-5901-4c05-8d9d-49e4cc86b3af] Performed ActiveStorage::AnalyzeJob (Job ID: cf59475f-5901-4c05-8d9d-49e4cc86b3af) from Async(default) in 6.44ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Pratos Mexicanos"], ["restaurant_id", 5], ["created_at", "2021-05-15 19:50:36.450977"], ["updated_at", "2021-05-15 19:50:36.450977"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho Guacamole"], ["description", "Tortilhas com Guacamole"], ["price", 19.0], ["product_category_id", 4], ["created_at", "2021-05-15 19:50:36.515774"], ["updated_at", "2021-05-15 19:50:36.515774"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "z39s61ogbm9mx0hltcih8l4zniek"], ["filename", "nachosg.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 39518], ["checksum", "gPUpvSnjV8pm4zEZHLjGJQ=="], ["created_at", "2021-05-15 19:50:36.570712"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 7], ["blob_id", 25], ["created_at", "2021-05-15 19:50:36.572301"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:36.573358"], ["id", 7]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: z39s61ogbm9mx0hltcih8l4zniek (checksum: gPUpvSnjV8pm4zEZHLjGJQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b56e53c0-595c-4c8f-b4ec-483b29333114) to Async(default) with arguments: #<GlobalID:0x00007f3b8c055dd8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/25>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b56e53c0-595c-4c8f-b4ec-483b29333114] Performing ActiveStorage::AnalyzeJob (Job ID: b56e53c0-595c-4c8f-b4ec-483b29333114) from Async(default) enqueued at 2021-05-15T19:50:36Z with arguments: #<GlobalID:0x000055b62939e3a8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/25>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b56e53c0-595c-4c8f-b4ec-483b29333114] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: z39s61ogbm9mx0hltcih8l4zniek[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b56e53c0-595c-4c8f-b4ec-483b29333114] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [b56e53c0-595c-4c8f-b4ec-483b29333114]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b56e53c0-595c-4c8f-b4ec-483b29333114]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 25]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b56e53c0-595c-4c8f-b4ec-483b29333114]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b56e53c0-595c-4c8f-b4ec-483b29333114] Performed ActiveStorage::AnalyzeJob (Job ID: b56e53c0-595c-4c8f-b4ec-483b29333114) from Async(default) in 5.5ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho"], ["description", "Tortilhas com milho"], ["price", 19.0], ["product_category_id", 4], ["created_at", "2021-05-15 19:50:38.121634"], ["updated_at", "2021-05-15 19:50:38.121634"]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dfch9sfsf99x3flrfqv00tcfxr45"], ["filename", "nachosg2.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 13502], ["checksum", "Lo233VpQQeinZVR67e3dQA=="], ["created_at", "2021-05-15 19:50:38.150055"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 8], ["blob_id", 26], ["created_at", "2021-05-15 19:50:38.152004"]]
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:38.154107"], ["id", 8]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: dfch9sfsf99x3flrfqv00tcfxr45 (checksum: Lo233VpQQeinZVR67e3dQA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b05cc523-88c8-4835-9762-a02112e59e24) to Async(default) with arguments: #<GlobalID:0x000055b6286d8f10 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/26>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b05cc523-88c8-4835-9762-a02112e59e24] Performing ActiveStorage::AnalyzeJob (Job ID: b05cc523-88c8-4835-9762-a02112e59e24) from Async(default) enqueued at 2021-05-15T19:50:38Z with arguments: #<GlobalID:0x000055b62884dc88 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/26>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b05cc523-88c8-4835-9762-a02112e59e24] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: dfch9sfsf99x3flrfqv00tcfxr45[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b05cc523-88c8-4835-9762-a02112e59e24] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [b05cc523-88c8-4835-9762-a02112e59e24]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b05cc523-88c8-4835-9762-a02112e59e24]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 26]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b05cc523-88c8-4835-9762-a02112e59e24]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b05cc523-88c8-4835-9762-a02112e59e24] Performed ActiveStorage::AnalyzeJob (Job ID: b05cc523-88c8-4835-9762-a02112e59e24) from Async(default) in 6.01ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ola Que Tal"], ["description", "Para alcançar e manter essa distinção em comida e vinho, serviço, ambiente e ambiente, o restaurante ganha reputação de primeira classe por gastronomia, hospitalidade graciosa e informada, conforto e beleza que atraem clientes novos e repetidos ano após ano."], ["delivery_tax", 5.5], ["city", "São Paulo"], ["street", "Aminta de Barros"], ["neighborhood", "Centro"], ["number", "659"], ["category_id", 1], ["created_at", "2021-05-15 19:50:47.162907"], ["updated_at", "2021-05-15 19:50:47.162907"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "mf2yzqz50usucj1nnpx4oas31tya"], ["filename", "2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 386736], ["checksum", "+us1vi4Gho2IDPaBG43Smw=="], ["created_at", "2021-05-15 19:50:47.249335"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 6], ["blob_id", 27], ["created_at", "2021-05-15 19:50:47.250733"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:47.251857"], ["id", 6]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: mf2yzqz50usucj1nnpx4oas31tya (checksum: +us1vi4Gho2IDPaBG43Smw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c768f758-e94c-418d-b7ff-c08f6aeba5cc) to Async(default) with arguments: #<GlobalID:0x00007f3ba00f3240 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/27>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c768f758-e94c-418d-b7ff-c08f6aeba5cc] Performing ActiveStorage::AnalyzeJob (Job ID: c768f758-e94c-418d-b7ff-c08f6aeba5cc) from Async(default) enqueued at 2021-05-15T19:50:47Z with arguments: #<GlobalID:0x00007f3ba00e12c0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/27>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c768f758-e94c-418d-b7ff-c08f6aeba5cc] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: mf2yzqz50usucj1nnpx4oas31tya[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c768f758-e94c-418d-b7ff-c08f6aeba5cc] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c768f758-e94c-418d-b7ff-c08f6aeba5cc]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c768f758-e94c-418d-b7ff-c08f6aeba5cc]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 27]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c768f758-e94c-418d-b7ff-c08f6aeba5cc]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c768f758-e94c-418d-b7ff-c08f6aeba5cc] Performed ActiveStorage::AnalyzeJob (Job ID: c768f758-e94c-418d-b7ff-c08f6aeba5cc) from Async(default) in 5.89ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Pratos Mexicanos"], ["restaurant_id", 6], ["created_at", "2021-05-15 19:50:47.320641"], ["updated_at", "2021-05-15 19:50:47.320641"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Burrito"], ["description", "Tortilhas com Guacamole"], ["price", 19.0], ["product_category_id", 5], ["created_at", "2021-05-15 19:50:47.376749"], ["updated_at", "2021-05-15 19:50:47.376749"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rgxq4ao5dk5lipbxjah3xaq9yfiv"], ["filename", "bt.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 43318], ["checksum", "U0/4sG20jBrwkp3OE5bL/A=="], ["created_at", "2021-05-15 19:50:47.434612"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 9], ["blob_id", 28], ["created_at", "2021-05-15 19:50:47.435911"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:47.436998"], ["id", 9]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: rgxq4ao5dk5lipbxjah3xaq9yfiv (checksum: U0/4sG20jBrwkp3OE5bL/A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: eb5fa79a-df1e-4e1d-baee-fe4354e788d6) to Async(default) with arguments: #<GlobalID:0x000055b62854d010 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/28>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb5fa79a-df1e-4e1d-baee-fe4354e788d6] Performing ActiveStorage::AnalyzeJob (Job ID: eb5fa79a-df1e-4e1d-baee-fe4354e788d6) from Async(default) enqueued at 2021-05-15T19:50:47Z with arguments: #<GlobalID:0x000055b6285018e0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/28>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb5fa79a-df1e-4e1d-baee-fe4354e788d6] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: rgxq4ao5dk5lipbxjah3xaq9yfiv[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb5fa79a-df1e-4e1d-baee-fe4354e788d6] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb5fa79a-df1e-4e1d-baee-fe4354e788d6]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb5fa79a-df1e-4e1d-baee-fe4354e788d6]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 28]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb5fa79a-df1e-4e1d-baee-fe4354e788d6]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb5fa79a-df1e-4e1d-baee-fe4354e788d6] Performed ActiveStorage::AnalyzeJob (Job ID: eb5fa79a-df1e-4e1d-baee-fe4354e788d6) from Async(default) in 4.43ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Quesadilha"], ["description", "Tortilhas de queijo"], ["price", 25.0], ["product_category_id", 5], ["created_at", "2021-05-15 19:50:50.523168"], ["updated_at", "2021-05-15 19:50:50.523168"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "y4ql2dzrfueb5l87pa6sbs5k2lqm"], ["filename", "quesa.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 11028], ["checksum", "5JRLgt/bXaIsJJ7mhWia3g=="], ["created_at", "2021-05-15 19:50:50.538794"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 10], ["blob_id", 29], ["created_at", "2021-05-15 19:50:50.540222"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:50:50.541270"], ["id", 10]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: y4ql2dzrfueb5l87pa6sbs5k2lqm (checksum: 5JRLgt/bXaIsJJ7mhWia3g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bd20f46c-af63-4291-893a-05336ccd17a4) to Async(default) with arguments: #<GlobalID:0x00007f3ba00b0800 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/29>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd20f46c-af63-4291-893a-05336ccd17a4] Performing ActiveStorage::AnalyzeJob (Job ID: bd20f46c-af63-4291-893a-05336ccd17a4) from Async(default) enqueued at 2021-05-15T19:50:50Z with arguments: #<GlobalID:0x00007f3b84005520 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/29>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd20f46c-af63-4291-893a-05336ccd17a4] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: y4ql2dzrfueb5l87pa6sbs5k2lqm[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd20f46c-af63-4291-893a-05336ccd17a4] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd20f46c-af63-4291-893a-05336ccd17a4]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd20f46c-af63-4291-893a-05336ccd17a4]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 29]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd20f46c-af63-4291-893a-05336ccd17a4]   [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd20f46c-af63-4291-893a-05336ccd17a4] Performed ActiveStorage::AnalyzeJob (Job ID: bd20f46c-af63-4291-893a-05336ccd17a4) from Async(default) in 8.08ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ola Que Tal - CWB"], ["description", "Para alcançar e manter essa distinção em comida e vinho, serviço, ambiente e ambiente, o restaurante ganha reputação de primeira classe por gastronomia, hospitalidade graciosa e informada, conforto e beleza que atraem clientes novos e repetidos ano após ano."], ["delivery_tax", 5.5], ["city", "Curitiba"], ["street", "Aminta de Barros"], ["neighborhood", "Centro"], ["number", "659"], ["category_id", 1], ["created_at", "2021-05-15 19:51:03.594199"], ["updated_at", "2021-05-15 19:51:03.594199"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xd49a4y1ng3l5dwu7a066w1q4p7g"], ["filename", "2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 386736], ["checksum", "+us1vi4Gho2IDPaBG43Smw=="], ["created_at", "2021-05-15 19:51:03.650749"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 7], ["blob_id", 30], ["created_at", "2021-05-15 19:51:03.652210"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:03.653349"], ["id", 7]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: xd49a4y1ng3l5dwu7a066w1q4p7g (checksum: +us1vi4Gho2IDPaBG43Smw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6f6d6018-a3dd-45d5-86e2-c975457f80a9) to Async(default) with arguments: #<GlobalID:0x000055b6290f5e80 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/30>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f6d6018-a3dd-45d5-86e2-c975457f80a9] Performing ActiveStorage::AnalyzeJob (Job ID: 6f6d6018-a3dd-45d5-86e2-c975457f80a9) from Async(default) enqueued at 2021-05-15T19:51:03Z with arguments: #<GlobalID:0x000055b6290e4e28 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/30>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f6d6018-a3dd-45d5-86e2-c975457f80a9] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: xd49a4y1ng3l5dwu7a066w1q4p7g[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f6d6018-a3dd-45d5-86e2-c975457f80a9] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f6d6018-a3dd-45d5-86e2-c975457f80a9]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f6d6018-a3dd-45d5-86e2-c975457f80a9]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 30]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f6d6018-a3dd-45d5-86e2-c975457f80a9]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f6d6018-a3dd-45d5-86e2-c975457f80a9] Performed ActiveStorage::AnalyzeJob (Job ID: 6f6d6018-a3dd-45d5-86e2-c975457f80a9) from Async(default) in 6.27ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Pratos Mexicanos"], ["restaurant_id", 7], ["created_at", "2021-05-15 19:51:03.718066"], ["updated_at", "2021-05-15 19:51:03.718066"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Burrito"], ["description", "Tortilhas com Guacamole"], ["price", 19.0], ["product_category_id", 6], ["created_at", "2021-05-15 19:51:03.783491"], ["updated_at", "2021-05-15 19:51:03.783491"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "e0g5nfnmeyun9o656lwxedxybat4"], ["filename", "bt.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 43318], ["checksum", "U0/4sG20jBrwkp3OE5bL/A=="], ["created_at", "2021-05-15 19:51:03.848756"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 11], ["blob_id", 31], ["created_at", "2021-05-15 19:51:03.850900"]]
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:03.852140"], ["id", 11]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: e0g5nfnmeyun9o656lwxedxybat4 (checksum: U0/4sG20jBrwkp3OE5bL/A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 950c2aa0-8f24-4c19-a987-d257c198ecf0) to Async(default) with arguments: #<GlobalID:0x00007f3b8c0a6580 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/31>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [950c2aa0-8f24-4c19-a987-d257c198ecf0] Performing ActiveStorage::AnalyzeJob (Job ID: 950c2aa0-8f24-4c19-a987-d257c198ecf0) from Async(default) enqueued at 2021-05-15T19:51:03Z with arguments: #<GlobalID:0x00007f3ba0060328 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/31>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [950c2aa0-8f24-4c19-a987-d257c198ecf0] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: e0g5nfnmeyun9o656lwxedxybat4[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [950c2aa0-8f24-4c19-a987-d257c198ecf0] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [950c2aa0-8f24-4c19-a987-d257c198ecf0]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [950c2aa0-8f24-4c19-a987-d257c198ecf0]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 31]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [950c2aa0-8f24-4c19-a987-d257c198ecf0]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [950c2aa0-8f24-4c19-a987-d257c198ecf0] Performed ActiveStorage::AnalyzeJob (Job ID: 950c2aa0-8f24-4c19-a987-d257c198ecf0) from Async(default) in 5.87ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Quesadilha"], ["description", "Tortilhas de queijo"], ["price", 25.0], ["product_category_id", 6], ["created_at", "2021-05-15 19:51:03.932975"], ["updated_at", "2021-05-15 19:51:03.932975"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1hnzv354q3i7trjgxujy7v2t92wp"], ["filename", "quesa.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 11028], ["checksum", "5JRLgt/bXaIsJJ7mhWia3g=="], ["created_at", "2021-05-15 19:51:03.941094"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 12], ["blob_id", 32], ["created_at", "2021-05-15 19:51:03.942281"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:03.943789"], ["id", 12]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 1hnzv354q3i7trjgxujy7v2t92wp (checksum: 5JRLgt/bXaIsJJ7mhWia3g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4e783a81-dfb8-4555-84f4-5737b8ba5dad) to Async(default) with arguments: #<GlobalID:0x000055b62864ce98 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/32>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e783a81-dfb8-4555-84f4-5737b8ba5dad] Performing ActiveStorage::AnalyzeJob (Job ID: 4e783a81-dfb8-4555-84f4-5737b8ba5dad) from Async(default) enqueued at 2021-05-15T19:51:03Z with arguments: #<GlobalID:0x000055b6286e5328 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/32>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e783a81-dfb8-4555-84f4-5737b8ba5dad] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1hnzv354q3i7trjgxujy7v2t92wp[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e783a81-dfb8-4555-84f4-5737b8ba5dad] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e783a81-dfb8-4555-84f4-5737b8ba5dad]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e783a81-dfb8-4555-84f4-5737b8ba5dad]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 32]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e783a81-dfb8-4555-84f4-5737b8ba5dad]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e783a81-dfb8-4555-84f4-5737b8ba5dad] Performed ActiveStorage::AnalyzeJob (Job ID: 4e783a81-dfb8-4555-84f4-5737b8ba5dad) from Async(default) in 5.37ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Bravo"], ["description", "Estamos empenhados em usar os melhores ingredientes em nossas receitas. Nenhum alimento deixa a nossa cozinha que nós mesmos não comeríamos."], ["delivery_tax", 3.5], ["city", "São Paulo"], ["street", "Rua via mar"], ["neighborhood", "Centro"], ["number", "250"], ["category_id", 2], ["created_at", "2021-05-15 19:51:13.945268"], ["updated_at", "2021-05-15 19:51:13.945268"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "k97cxrheco0md83yoqwlk421p2vu"], ["filename", "3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 165155], ["checksum", "Rf9lUG+rvhz0g48qN7cY0w=="], ["created_at", "2021-05-15 19:51:14.009500"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 8], ["blob_id", 33], ["created_at", "2021-05-15 19:51:14.010941"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:14.011940"], ["id", 8]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: k97cxrheco0md83yoqwlk421p2vu (checksum: Rf9lUG+rvhz0g48qN7cY0w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c35d8fcc-68e3-45fe-9b54-6dd790b74878) to Async(default) with arguments: #<GlobalID:0x00007f3ba0078ba8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/33>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c35d8fcc-68e3-45fe-9b54-6dd790b74878] Performing ActiveStorage::AnalyzeJob (Job ID: c35d8fcc-68e3-45fe-9b54-6dd790b74878) from Async(default) enqueued at 2021-05-15T19:51:14Z with arguments: #<GlobalID:0x00007f3b8c0e4880 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/33>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c35d8fcc-68e3-45fe-9b54-6dd790b74878] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: k97cxrheco0md83yoqwlk421p2vu[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c35d8fcc-68e3-45fe-9b54-6dd790b74878] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c35d8fcc-68e3-45fe-9b54-6dd790b74878]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c35d8fcc-68e3-45fe-9b54-6dd790b74878]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 33]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c35d8fcc-68e3-45fe-9b54-6dd790b74878]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c35d8fcc-68e3-45fe-9b54-6dd790b74878] Performed ActiveStorage::AnalyzeJob (Job ID: c35d8fcc-68e3-45fe-9b54-6dd790b74878) from Async(default) in 5.23ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Porções"], ["restaurant_id", 8], ["created_at", "2021-05-15 19:51:14.083046"], ["updated_at", "2021-05-15 19:51:14.083046"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Berinjela à parmegiana"], ["description", "Com arroz e fritas"], ["price", 78.0], ["product_category_id", 7], ["created_at", "2021-05-15 19:51:14.208418"], ["updated_at", "2021-05-15 19:51:14.208418"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "zk6w45pwvxkno67sq41djv9gfkms"], ["filename", "berinjela.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 51258], ["checksum", "RfcwMhOT2ExO+etULUyIKA=="], ["created_at", "2021-05-15 19:51:14.274729"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 13], ["blob_id", 34], ["created_at", "2021-05-15 19:51:14.276036"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:14.276911"], ["id", 13]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: zk6w45pwvxkno67sq41djv9gfkms (checksum: RfcwMhOT2ExO+etULUyIKA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 727b5708-a34f-4bea-ab7b-63768a719103) to Async(default) with arguments: #<GlobalID:0x000055b6284ca958 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/34>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [727b5708-a34f-4bea-ab7b-63768a719103] Performing ActiveStorage::AnalyzeJob (Job ID: 727b5708-a34f-4bea-ab7b-63768a719103) from Async(default) enqueued at 2021-05-15T19:51:14Z with arguments: #<GlobalID:0x000055b628478658 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/34>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [727b5708-a34f-4bea-ab7b-63768a719103] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: zk6w45pwvxkno67sq41djv9gfkms[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [727b5708-a34f-4bea-ab7b-63768a719103] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [727b5708-a34f-4bea-ab7b-63768a719103]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [727b5708-a34f-4bea-ab7b-63768a719103]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 34]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [727b5708-a34f-4bea-ab7b-63768a719103]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [727b5708-a34f-4bea-ab7b-63768a719103] Performed ActiveStorage::AnalyzeJob (Job ID: 727b5708-a34f-4bea-ab7b-63768a719103) from Async(default) in 5.46ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fritas"], ["description", "Bata frita com bacon"], ["price", 35.0], ["product_category_id", 7], ["created_at", "2021-05-15 19:51:14.367387"], ["updated_at", "2021-05-15 19:51:14.367387"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "jq6igsupeqv5bxspxbrz5xj8udn0"], ["filename", "fritas.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 117995], ["checksum", "1NC6jYqSIVfOJ1N2qcGGtg=="], ["created_at", "2021-05-15 19:51:14.374799"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 14], ["blob_id", 35], ["created_at", "2021-05-15 19:51:14.375973"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:14.376594"], ["id", 14]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: jq6igsupeqv5bxspxbrz5xj8udn0 (checksum: 1NC6jYqSIVfOJ1N2qcGGtg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d) to Async(default) with arguments: #<GlobalID:0x00007f3b8c0b8a78 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/35>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d] Performing ActiveStorage::AnalyzeJob (Job ID: c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d) from Async(default) enqueued at 2021-05-15T19:51:14Z with arguments: #<GlobalID:0x000055b629411330 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/35>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: jq6igsupeqv5bxspxbrz5xj8udn0[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 35]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d] Performed ActiveStorage::AnalyzeJob (Job ID: c3ad9f0a-9b63-441d-9b8b-4e1c6ffaab7d) from Async(default) in 5.42ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Bravo - Maceio"], ["description", "Estamos empenhados em usar os melhores ingredientes em nossas receitas. Nenhum alimento deixa a nossa cozinha que nós mesmos não comeríamos."], ["delivery_tax", 3.5], ["city", "Maceio"], ["street", "Rua via mar"], ["neighborhood", "Centro"], ["number", "250"], ["category_id", 2], ["created_at", "2021-05-15 19:51:23.920513"], ["updated_at", "2021-05-15 19:51:23.920513"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vac489b0wy4kwtv1ckqg4qwzw17v"], ["filename", "3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 165155], ["checksum", "Rf9lUG+rvhz0g48qN7cY0w=="], ["created_at", "2021-05-15 19:51:23.984394"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 9], ["blob_id", 36], ["created_at", "2021-05-15 19:51:23.985783"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:23.986653"], ["id", 9]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.5ms) [0m[32mUploaded file to key: vac489b0wy4kwtv1ckqg4qwzw17v (checksum: Rf9lUG+rvhz0g48qN7cY0w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: edc79d6a-1c7d-4284-808d-5571c40c0a6e) to Async(default) with arguments: #<GlobalID:0x000055b6285c4188 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/36>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [edc79d6a-1c7d-4284-808d-5571c40c0a6e] Performing ActiveStorage::AnalyzeJob (Job ID: edc79d6a-1c7d-4284-808d-5571c40c0a6e) from Async(default) enqueued at 2021-05-15T19:51:23Z with arguments: #<GlobalID:0x000055b6285ac268 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/36>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [edc79d6a-1c7d-4284-808d-5571c40c0a6e] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: vac489b0wy4kwtv1ckqg4qwzw17v[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [edc79d6a-1c7d-4284-808d-5571c40c0a6e] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [edc79d6a-1c7d-4284-808d-5571c40c0a6e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [edc79d6a-1c7d-4284-808d-5571c40c0a6e]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 36]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [edc79d6a-1c7d-4284-808d-5571c40c0a6e]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [edc79d6a-1c7d-4284-808d-5571c40c0a6e] Performed ActiveStorage::AnalyzeJob (Job ID: edc79d6a-1c7d-4284-808d-5571c40c0a6e) from Async(default) in 10.53ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Porções"], ["restaurant_id", 9], ["created_at", "2021-05-15 19:51:24.087233"], ["updated_at", "2021-05-15 19:51:24.087233"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Berinjela à parmegiana"], ["description", "Com arroz e fritas"], ["price", 78.0], ["product_category_id", 8], ["created_at", "2021-05-15 19:51:24.146724"], ["updated_at", "2021-05-15 19:51:24.146724"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "g2omztzwg2td56j0saki7tqhcses"], ["filename", "berinjela.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 51258], ["checksum", "RfcwMhOT2ExO+etULUyIKA=="], ["created_at", "2021-05-15 19:51:24.198069"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 15], ["blob_id", 37], ["created_at", "2021-05-15 19:51:24.199210"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:24.200795"], ["id", 15]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: g2omztzwg2td56j0saki7tqhcses (checksum: RfcwMhOT2ExO+etULUyIKA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e2561b00-74f3-4dea-9d73-909a910dea44) to Async(default) with arguments: #<GlobalID:0x00007f3b8c09f758 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/37>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2561b00-74f3-4dea-9d73-909a910dea44] Performing ActiveStorage::AnalyzeJob (Job ID: e2561b00-74f3-4dea-9d73-909a910dea44) from Async(default) enqueued at 2021-05-15T19:51:24Z with arguments: #<GlobalID:0x00007f3b8c0960e0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/37>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2561b00-74f3-4dea-9d73-909a910dea44] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: g2omztzwg2td56j0saki7tqhcses[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2561b00-74f3-4dea-9d73-909a910dea44] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2561b00-74f3-4dea-9d73-909a910dea44]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2561b00-74f3-4dea-9d73-909a910dea44]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 37]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2561b00-74f3-4dea-9d73-909a910dea44]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2561b00-74f3-4dea-9d73-909a910dea44] Performed ActiveStorage::AnalyzeJob (Job ID: e2561b00-74f3-4dea-9d73-909a910dea44) from Async(default) in 5.18ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fritas"], ["description", "Bata frita com bacon"], ["price", 35.0], ["product_category_id", 8], ["created_at", "2021-05-15 19:51:24.273533"], ["updated_at", "2021-05-15 19:51:24.273533"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fyk9w5etlah7zc17i127j6nwbktq"], ["filename", "fritas.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 117995], ["checksum", "1NC6jYqSIVfOJ1N2qcGGtg=="], ["created_at", "2021-05-15 19:51:24.280867"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 16], ["blob_id", 38], ["created_at", "2021-05-15 19:51:24.282412"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:24.283186"], ["id", 16]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: fyk9w5etlah7zc17i127j6nwbktq (checksum: 1NC6jYqSIVfOJ1N2qcGGtg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a90df50f-c0aa-4bbf-8791-917393e6b0b7) to Async(default) with arguments: #<GlobalID:0x000055b62862d9a8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/38>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a90df50f-c0aa-4bbf-8791-917393e6b0b7] Performing ActiveStorage::AnalyzeJob (Job ID: a90df50f-c0aa-4bbf-8791-917393e6b0b7) from Async(default) enqueued at 2021-05-15T19:51:24Z with arguments: #<GlobalID:0x000055b6286f4148 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/38>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a90df50f-c0aa-4bbf-8791-917393e6b0b7] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: fyk9w5etlah7zc17i127j6nwbktq[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a90df50f-c0aa-4bbf-8791-917393e6b0b7] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [a90df50f-c0aa-4bbf-8791-917393e6b0b7]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a90df50f-c0aa-4bbf-8791-917393e6b0b7]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 38]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a90df50f-c0aa-4bbf-8791-917393e6b0b7]   [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a90df50f-c0aa-4bbf-8791-917393e6b0b7] Performed ActiveStorage::AnalyzeJob (Job ID: a90df50f-c0aa-4bbf-8791-917393e6b0b7) from Async(default) in 5.72ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "La Pergoletti"], ["description", "Nossa missão é estabelecer relações comerciais benéficas com diversos fornecedores que compartilham nosso compromisso com o atendimento ao cliente, qualidade e preços competitivos."], ["delivery_tax", 6.7], ["city", "São Paulo"], ["street", "Rua Joaquim Pinto"], ["neighborhood", "Vila Gomes Cardim"], ["number", "929"], ["category_id", 2], ["created_at", "2021-05-15 19:51:32.231428"], ["updated_at", "2021-05-15 19:51:32.231428"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "131tlvgkkqufzdidlvcn2d61q0w4"], ["filename", "4.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 32270], ["checksum", "vFtn+orRLR19GDlqFzhvyw=="], ["created_at", "2021-05-15 19:51:32.294156"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 10], ["blob_id", 39], ["created_at", "2021-05-15 19:51:32.295319"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:32.296056"], ["id", 10]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 131tlvgkkqufzdidlvcn2d61q0w4 (checksum: vFtn+orRLR19GDlqFzhvyw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a452e9c9-d68b-4b70-8dd5-e9b062ac5a77) to Async(default) with arguments: #<GlobalID:0x00007f3ba00e0f50 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/39>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a452e9c9-d68b-4b70-8dd5-e9b062ac5a77] Performing ActiveStorage::AnalyzeJob (Job ID: a452e9c9-d68b-4b70-8dd5-e9b062ac5a77) from Async(default) enqueued at 2021-05-15T19:51:32Z with arguments: #<GlobalID:0x000055b6294b93f0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/39>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a452e9c9-d68b-4b70-8dd5-e9b062ac5a77] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 131tlvgkkqufzdidlvcn2d61q0w4[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a452e9c9-d68b-4b70-8dd5-e9b062ac5a77] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [a452e9c9-d68b-4b70-8dd5-e9b062ac5a77]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a452e9c9-d68b-4b70-8dd5-e9b062ac5a77]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 39]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a452e9c9-d68b-4b70-8dd5-e9b062ac5a77]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a452e9c9-d68b-4b70-8dd5-e9b062ac5a77] Performed ActiveStorage::AnalyzeJob (Job ID: a452e9c9-d68b-4b70-8dd5-e9b062ac5a77) from Async(default) in 5.11ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Fogazzas (Individuais)"], ["restaurant_id", 10], ["created_at", "2021-05-15 19:51:32.377325"], ["updated_at", "2021-05-15 19:51:32.377325"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fogazza Bacon"], ["description", "Bacon, parmesão e mussarela."], ["price", 12.0], ["product_category_id", 9], ["created_at", "2021-05-15 19:51:32.495778"], ["updated_at", "2021-05-15 19:51:32.495778"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 17], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 17], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ps4kobyhs4u29sgh8ejkg7m4hyd6"], ["filename", "fogazza.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 193720], ["checksum", "tKp0pQJe9/tIg4wcZuztBQ=="], ["created_at", "2021-05-15 19:51:32.562576"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 17], ["blob_id", 40], ["created_at", "2021-05-15 19:51:32.563754"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:32.564514"], ["id", 17]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: ps4kobyhs4u29sgh8ejkg7m4hyd6 (checksum: tKp0pQJe9/tIg4wcZuztBQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e2c67b31-be1b-4a04-8c8c-8cb862992fce) to Async(default) with arguments: #<GlobalID:0x000055b6291b6068 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/40>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2c67b31-be1b-4a04-8c8c-8cb862992fce] Performing ActiveStorage::AnalyzeJob (Job ID: e2c67b31-be1b-4a04-8c8c-8cb862992fce) from Async(default) enqueued at 2021-05-15T19:51:32Z with arguments: #<GlobalID:0x000055b6291a6320 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/40>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2c67b31-be1b-4a04-8c8c-8cb862992fce] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: ps4kobyhs4u29sgh8ejkg7m4hyd6[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2c67b31-be1b-4a04-8c8c-8cb862992fce] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2c67b31-be1b-4a04-8c8c-8cb862992fce]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2c67b31-be1b-4a04-8c8c-8cb862992fce]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 40]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2c67b31-be1b-4a04-8c8c-8cb862992fce]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2c67b31-be1b-4a04-8c8c-8cb862992fce] Performed ActiveStorage::AnalyzeJob (Job ID: e2c67b31-be1b-4a04-8c8c-8cb862992fce) from Async(default) in 5.22ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fogazza A moda da Casa"], ["description", "Calabresa, bacon, palmito e mussarela."], ["price", 12.0], ["product_category_id", 9], ["created_at", "2021-05-15 19:51:34.368023"], ["updated_at", "2021-05-15 19:51:34.368023"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 18], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 18], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "w1nq5p9jgbic2126xd8mh050ov5y"], ["filename", "fogazza.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 193720], ["checksum", "tKp0pQJe9/tIg4wcZuztBQ=="], ["created_at", "2021-05-15 19:51:34.382139"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 18], ["blob_id", 41], ["created_at", "2021-05-15 19:51:34.383469"]]
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:34.384513"], ["id", 18]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: w1nq5p9jgbic2126xd8mh050ov5y (checksum: tKp0pQJe9/tIg4wcZuztBQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d668d7ad-42d2-4c88-afe7-41acc6d5726f) to Async(default) with arguments: #<GlobalID:0x000055b62871f730 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/41>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d668d7ad-42d2-4c88-afe7-41acc6d5726f] Performing ActiveStorage::AnalyzeJob (Job ID: d668d7ad-42d2-4c88-afe7-41acc6d5726f) from Async(default) enqueued at 2021-05-15T19:51:34Z with arguments: #<GlobalID:0x000055b6286d1ad0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/41>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d668d7ad-42d2-4c88-afe7-41acc6d5726f] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: w1nq5p9jgbic2126xd8mh050ov5y[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d668d7ad-42d2-4c88-afe7-41acc6d5726f] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d668d7ad-42d2-4c88-afe7-41acc6d5726f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d668d7ad-42d2-4c88-afe7-41acc6d5726f]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 41]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d668d7ad-42d2-4c88-afe7-41acc6d5726f]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d668d7ad-42d2-4c88-afe7-41acc6d5726f] Performed ActiveStorage::AnalyzeJob (Job ID: d668d7ad-42d2-4c88-afe7-41acc6d5726f) from Async(default) in 6.67ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Sushi Eterno"], ["description", "Existimos para garantir que cada hóspede receba um serviço rápido, profissional, amigável e cortês."], ["delivery_tax", 7.5], ["city", "São Paulo"], ["street", "Avenida Manoel Domingos Pinto"], ["neighborhood", "Parque Anhangüera"], ["number", "507"], ["category_id", 3], ["created_at", "2021-05-15 19:51:47.050697"], ["updated_at", "2021-05-15 19:51:47.050697"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "riu8ur39zsolgsufs8s8ku1rzdrk"], ["filename", "5.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 256664], ["checksum", "HYxDnwVyE79I6x1rIPGbvg=="], ["created_at", "2021-05-15 19:51:47.112294"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 11], ["blob_id", 42], ["created_at", "2021-05-15 19:51:47.113166"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:47.114212"], ["id", 11]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: riu8ur39zsolgsufs8s8ku1rzdrk (checksum: HYxDnwVyE79I6x1rIPGbvg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: daa17f60-b898-44c8-8b8d-8cf970a64049) to Async(default) with arguments: #<GlobalID:0x00007f3b8c1cbd98 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/42>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [daa17f60-b898-44c8-8b8d-8cf970a64049] Performing ActiveStorage::AnalyzeJob (Job ID: daa17f60-b898-44c8-8b8d-8cf970a64049) from Async(default) enqueued at 2021-05-15T19:51:47Z with arguments: #<GlobalID:0x00007f3ba00e9128 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/42>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [daa17f60-b898-44c8-8b8d-8cf970a64049] [36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: riu8ur39zsolgsufs8s8ku1rzdrk[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [daa17f60-b898-44c8-8b8d-8cf970a64049] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [daa17f60-b898-44c8-8b8d-8cf970a64049]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [daa17f60-b898-44c8-8b8d-8cf970a64049]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 42]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [daa17f60-b898-44c8-8b8d-8cf970a64049]   [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [daa17f60-b898-44c8-8b8d-8cf970a64049] Performed ActiveStorage::AnalyzeJob (Job ID: daa17f60-b898-44c8-8b8d-8cf970a64049) from Async(default) in 6.62ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Entrada"], ["restaurant_id", 11], ["created_at", "2021-05-15 19:51:47.190351"], ["updated_at", "2021-05-15 19:51:47.190351"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Temaki"], ["description", "Enrolado de arroz com alga marinha em forma de cone"], ["price", 19.99], ["product_category_id", 10], ["created_at", "2021-05-15 19:51:47.253368"], ["updated_at", "2021-05-15 19:51:47.253368"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 19], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 19], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "m4b1ix43seyk11o5k6kxst4uwg3t"], ["filename", "temaki.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 5447], ["checksum", "MMPtvMqCwCt2IgioyIQiOQ=="], ["created_at", "2021-05-15 19:51:47.317618"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 19], ["blob_id", 43], ["created_at", "2021-05-15 19:51:47.319178"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:47.320290"], ["id", 19]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: m4b1ix43seyk11o5k6kxst4uwg3t (checksum: MMPtvMqCwCt2IgioyIQiOQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d2cb87a2-5b25-4aaf-83e1-0204f3442eb1) to Async(default) with arguments: #<GlobalID:0x000055b6291fc2e8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/43>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2cb87a2-5b25-4aaf-83e1-0204f3442eb1] Performing ActiveStorage::AnalyzeJob (Job ID: d2cb87a2-5b25-4aaf-83e1-0204f3442eb1) from Async(default) enqueued at 2021-05-15T19:51:47Z with arguments: #<GlobalID:0x000055b62926c868 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/43>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2cb87a2-5b25-4aaf-83e1-0204f3442eb1] [36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: m4b1ix43seyk11o5k6kxst4uwg3t[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2cb87a2-5b25-4aaf-83e1-0204f3442eb1] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2cb87a2-5b25-4aaf-83e1-0204f3442eb1]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2cb87a2-5b25-4aaf-83e1-0204f3442eb1]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 43]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2cb87a2-5b25-4aaf-83e1-0204f3442eb1]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2cb87a2-5b25-4aaf-83e1-0204f3442eb1] Performed ActiveStorage::AnalyzeJob (Job ID: d2cb87a2-5b25-4aaf-83e1-0204f3442eb1) from Async(default) in 5.04ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Sashimi"], ["description", "Peixe cru fatiado, salmao, atum e peixe prego"], ["price", 30.9], ["product_category_id", 10], ["created_at", "2021-05-15 19:51:47.414653"], ["updated_at", "2021-05-15 19:51:47.414653"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 20], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 20], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "jcxmpyw2a4w755ko3nsi36q0ro6k"], ["filename", "sashimi.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 140495], ["checksum", "1x/XSaPioUO9bpIPQpFPTA=="], ["created_at", "2021-05-15 19:51:47.422446"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 20], ["blob_id", 44], ["created_at", "2021-05-15 19:51:47.423646"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:47.424604"], ["id", 20]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: jcxmpyw2a4w755ko3nsi36q0ro6k (checksum: 1x/XSaPioUO9bpIPQpFPTA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6db3417b-ad5b-4330-b8cc-a2b6e463e577) to Async(default) with arguments: #<GlobalID:0x000055b6286140e8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/44>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6db3417b-ad5b-4330-b8cc-a2b6e463e577] Performing ActiveStorage::AnalyzeJob (Job ID: 6db3417b-ad5b-4330-b8cc-a2b6e463e577) from Async(default) enqueued at 2021-05-15T19:51:47Z with arguments: #<GlobalID:0x000055b6285e4190 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/44>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6db3417b-ad5b-4330-b8cc-a2b6e463e577] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: jcxmpyw2a4w755ko3nsi36q0ro6k[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6db3417b-ad5b-4330-b8cc-a2b6e463e577] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [6db3417b-ad5b-4330-b8cc-a2b6e463e577]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6db3417b-ad5b-4330-b8cc-a2b6e463e577]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 44]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6db3417b-ad5b-4330-b8cc-a2b6e463e577]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6db3417b-ad5b-4330-b8cc-a2b6e463e577] Performed ActiveStorage::AnalyzeJob (Job ID: 6db3417b-ad5b-4330-b8cc-a2b6e463e577) from Async(default) in 5.32ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Sushi Eterno - Maceio"], ["description", "Existimos para garantir que cada hóspede receba um serviço rápido, profissional, amigável e cortês."], ["delivery_tax", 7.5], ["city", "Maceio"], ["street", "Avenida do mar"], ["neighborhood", "Belo mar"], ["number", "2344"], ["category_id", 3], ["created_at", "2021-05-15 19:51:58.378275"], ["updated_at", "2021-05-15 19:51:58.378275"]]
  [1m[36mTRANSACTION (51.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1var01ohrxr1opblwtmydzc64ptv"], ["filename", "5.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 256664], ["checksum", "HYxDnwVyE79I6x1rIPGbvg=="], ["created_at", "2021-05-15 19:51:58.458749"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 12], ["blob_id", 45], ["created_at", "2021-05-15 19:51:58.460192"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:58.461262"], ["id", 12]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.3ms) [0m[32mUploaded file to key: 1var01ohrxr1opblwtmydzc64ptv (checksum: HYxDnwVyE79I6x1rIPGbvg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 78deddb9-9773-4299-830d-7cef931decff) to Async(default) with arguments: #<GlobalID:0x00007f3b9003df68 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/45>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [78deddb9-9773-4299-830d-7cef931decff] Performing ActiveStorage::AnalyzeJob (Job ID: 78deddb9-9773-4299-830d-7cef931decff) from Async(default) enqueued at 2021-05-15T19:51:58Z with arguments: #<GlobalID:0x000055b62947a880 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/45>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [78deddb9-9773-4299-830d-7cef931decff] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 1var01ohrxr1opblwtmydzc64ptv[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [78deddb9-9773-4299-830d-7cef931decff] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [78deddb9-9773-4299-830d-7cef931decff]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [78deddb9-9773-4299-830d-7cef931decff]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 45]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [78deddb9-9773-4299-830d-7cef931decff]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [78deddb9-9773-4299-830d-7cef931decff] Performed ActiveStorage::AnalyzeJob (Job ID: 78deddb9-9773-4299-830d-7cef931decff) from Async(default) in 9.14ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Entrada"], ["restaurant_id", 12], ["created_at", "2021-05-15 19:51:58.540897"], ["updated_at", "2021-05-15 19:51:58.540897"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Temaki"], ["description", "Enrolado de arroz com alga marinha em forma de cone"], ["price", 19.99], ["product_category_id", 11], ["created_at", "2021-05-15 19:51:58.618242"], ["updated_at", "2021-05-15 19:51:58.618242"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 21], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 21], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "s29atljmjqx6r7nfa10qofx6qszh"], ["filename", "temaki.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 5447], ["checksum", "MMPtvMqCwCt2IgioyIQiOQ=="], ["created_at", "2021-05-15 19:51:58.694861"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 21], ["blob_id", 46], ["created_at", "2021-05-15 19:51:58.696517"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:51:58.697526"], ["id", 21]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: s29atljmjqx6r7nfa10qofx6qszh (checksum: MMPtvMqCwCt2IgioyIQiOQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1145e919-7918-4d14-b6d0-190a985645f3) to Async(default) with arguments: #<GlobalID:0x000055b6292a67c0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/46>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1145e919-7918-4d14-b6d0-190a985645f3] Performing ActiveStorage::AnalyzeJob (Job ID: 1145e919-7918-4d14-b6d0-190a985645f3) from Async(default) enqueued at 2021-05-15T19:51:58Z with arguments: #<GlobalID:0x00007f3ba0050720 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/46>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1145e919-7918-4d14-b6d0-190a985645f3] [36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: s29atljmjqx6r7nfa10qofx6qszh[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1145e919-7918-4d14-b6d0-190a985645f3] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1145e919-7918-4d14-b6d0-190a985645f3]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1145e919-7918-4d14-b6d0-190a985645f3]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 46]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1145e919-7918-4d14-b6d0-190a985645f3]   [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1145e919-7918-4d14-b6d0-190a985645f3] Performed ActiveStorage::AnalyzeJob (Job ID: 1145e919-7918-4d14-b6d0-190a985645f3) from Async(default) in 5.35ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Sashimi"], ["description", "Peixe cru fatiado, salmao, atum e peixe prego"], ["price", 30.9], ["product_category_id", 11], ["created_at", "2021-05-15 19:52:02.751607"], ["updated_at", "2021-05-15 19:52:02.751607"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 22], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 22], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ubfuypb1q17o869xhn7sw2y12r4t"], ["filename", "sashimi.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 140495], ["checksum", "1x/XSaPioUO9bpIPQpFPTA=="], ["created_at", "2021-05-15 19:52:02.766459"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 22], ["blob_id", 47], ["created_at", "2021-05-15 19:52:02.767881"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:02.768742"], ["id", 22]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: ubfuypb1q17o869xhn7sw2y12r4t (checksum: 1x/XSaPioUO9bpIPQpFPTA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9f7490d1-e149-4568-9f49-ec7d2bd92501) to Async(default) with arguments: #<GlobalID:0x000055b6290f5908 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/47>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9f7490d1-e149-4568-9f49-ec7d2bd92501] Performing ActiveStorage::AnalyzeJob (Job ID: 9f7490d1-e149-4568-9f49-ec7d2bd92501) from Async(default) enqueued at 2021-05-15T19:52:02Z with arguments: #<GlobalID:0x000055b629185e40 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/47>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9f7490d1-e149-4568-9f49-ec7d2bd92501] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: ubfuypb1q17o869xhn7sw2y12r4t[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9f7490d1-e149-4568-9f49-ec7d2bd92501] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [9f7490d1-e149-4568-9f49-ec7d2bd92501]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9f7490d1-e149-4568-9f49-ec7d2bd92501]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 47]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9f7490d1-e149-4568-9f49-ec7d2bd92501]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9f7490d1-e149-4568-9f49-ec7d2bd92501] Performed ActiveStorage::AnalyzeJob (Job ID: 9f7490d1-e149-4568-9f49-ec7d2bd92501) from Async(default) in 5.17ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Okuyamah"], ["description", "Restaurante conceituado, vencedor por 5 vezes como melhor restaurante Japones de São Paulo."], ["delivery_tax", 8.3], ["city", "São Paulo"], ["street", "Rua Francisco Artassio"], ["neighborhood", "Jardim das Laranjeiras"], ["number", "134"], ["category_id", 3], ["created_at", "2021-05-15 19:52:09.797082"], ["updated_at", "2021-05-15 19:52:09.797082"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rz16pxkrjq6w4y2t9i8n1jad776b"], ["filename", "6.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 344855], ["checksum", "EAq/Pa4tAVMuzUnCl8NTbw=="], ["created_at", "2021-05-15 19:52:09.863144"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 13], ["blob_id", 48], ["created_at", "2021-05-15 19:52:09.864295"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:09.865070"], ["id", 13]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.5ms) [0m[32mUploaded file to key: rz16pxkrjq6w4y2t9i8n1jad776b (checksum: EAq/Pa4tAVMuzUnCl8NTbw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0397d4ee-fd7c-4ada-860c-60a4214985a4) to Async(default) with arguments: #<GlobalID:0x000055b627e7b160 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/48>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0397d4ee-fd7c-4ada-860c-60a4214985a4] Performing ActiveStorage::AnalyzeJob (Job ID: 0397d4ee-fd7c-4ada-860c-60a4214985a4) from Async(default) enqueued at 2021-05-15T19:52:09Z with arguments: #<GlobalID:0x000055b6281e1de0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/48>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0397d4ee-fd7c-4ada-860c-60a4214985a4] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: rz16pxkrjq6w4y2t9i8n1jad776b[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0397d4ee-fd7c-4ada-860c-60a4214985a4] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [0397d4ee-fd7c-4ada-860c-60a4214985a4]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0397d4ee-fd7c-4ada-860c-60a4214985a4]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 48]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0397d4ee-fd7c-4ada-860c-60a4214985a4]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0397d4ee-fd7c-4ada-860c-60a4214985a4] Performed ActiveStorage::AnalyzeJob (Job ID: 0397d4ee-fd7c-4ada-860c-60a4214985a4) from Async(default) in 5.84ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Entrada"], ["restaurant_id", 13], ["created_at", "2021-05-15 19:52:09.946969"], ["updated_at", "2021-05-15 19:52:09.946969"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Hossomaki 16 unidades"], ["description", "Enrolado fino com folha de alga marinha por fora."], ["price", 20.9], ["product_category_id", 12], ["created_at", "2021-05-15 19:52:10.078089"], ["updated_at", "2021-05-15 19:52:10.078089"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 23], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 23], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nri19tzmgciysafxk40i8xbs9wgt"], ["filename", "hosomaki.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 41505], ["checksum", "L5rVeRpm4bs0OcJHEA4FHg=="], ["created_at", "2021-05-15 19:52:10.136046"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 23], ["blob_id", 49], ["created_at", "2021-05-15 19:52:10.136997"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:10.138217"], ["id", 23]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: nri19tzmgciysafxk40i8xbs9wgt (checksum: L5rVeRpm4bs0OcJHEA4FHg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1f565bf0-d2d8-4982-894f-66fca0353013) to Async(default) with arguments: #<GlobalID:0x000055b6294c3350 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/49>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f565bf0-d2d8-4982-894f-66fca0353013] Performing ActiveStorage::AnalyzeJob (Job ID: 1f565bf0-d2d8-4982-894f-66fca0353013) from Async(default) enqueued at 2021-05-15T19:52:10Z with arguments: #<GlobalID:0x000055b629513468 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/49>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f565bf0-d2d8-4982-894f-66fca0353013] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: nri19tzmgciysafxk40i8xbs9wgt[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f565bf0-d2d8-4982-894f-66fca0353013] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f565bf0-d2d8-4982-894f-66fca0353013]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f565bf0-d2d8-4982-894f-66fca0353013]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 49]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f565bf0-d2d8-4982-894f-66fca0353013]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f565bf0-d2d8-4982-894f-66fca0353013] Performed ActiveStorage::AnalyzeJob (Job ID: 1f565bf0-d2d8-4982-894f-66fca0353013) from Async(default) in 6.58ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Hot roll - 10 unidades"], ["description", "10 unidades."], ["price", 12.0], ["product_category_id", 12], ["created_at", "2021-05-15 19:52:11.606938"], ["updated_at", "2021-05-15 19:52:11.606938"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 24], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 24], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "92xckzrv8zieypbeejocjzrxpvpj"], ["filename", "hot-holl.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 35208], ["checksum", "kgUfOpJ5Rx4YYaq3kJUbZw=="], ["created_at", "2021-05-15 19:52:11.621024"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 24], ["blob_id", 50], ["created_at", "2021-05-15 19:52:11.622334"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:11.623517"], ["id", 24]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: 92xckzrv8zieypbeejocjzrxpvpj (checksum: kgUfOpJ5Rx4YYaq3kJUbZw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977) to Async(default) with arguments: #<GlobalID:0x00007f3b8c19e208 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/50>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977] Performing ActiveStorage::AnalyzeJob (Job ID: 9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977) from Async(default) enqueued at 2021-05-15T19:52:11Z with arguments: #<GlobalID:0x000055b629441f80 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/50>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 92xckzrv8zieypbeejocjzrxpvpj[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 50]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977] Performed ActiveStorage::AnalyzeJob (Job ID: 9d2aeefa-78b1-4ab0-ad7b-3eca32fc7977) from Async(default) in 4.86ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Okuyamah - Maceio"], ["description", "Restaurante conceituado, vencedor por 5 vezes como melhor restaurante Japones de São Paulo."], ["delivery_tax", 8.3], ["city", "Maceio"], ["street", "Rua Francisco Artassio"], ["neighborhood", "Jardim das Laranjeiras"], ["number", "134"], ["category_id", 3], ["created_at", "2021-05-15 19:52:19.430297"], ["updated_at", "2021-05-15 19:52:19.430297"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4u9nloi76skaabkl5ag17kls0csi"], ["filename", "6.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 344855], ["checksum", "EAq/Pa4tAVMuzUnCl8NTbw=="], ["created_at", "2021-05-15 19:52:19.488501"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 14], ["blob_id", 51], ["created_at", "2021-05-15 19:52:19.489527"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:19.490879"], ["id", 14]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.5ms) [0m[32mUploaded file to key: 4u9nloi76skaabkl5ag17kls0csi (checksum: EAq/Pa4tAVMuzUnCl8NTbw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 80cac7b7-c794-4e79-be88-ab75278f1175) to Async(default) with arguments: #<GlobalID:0x000055b6292b6e90 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/51>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [80cac7b7-c794-4e79-be88-ab75278f1175] Performing ActiveStorage::AnalyzeJob (Job ID: 80cac7b7-c794-4e79-be88-ab75278f1175) from Async(default) enqueued at 2021-05-15T19:52:19Z with arguments: #<GlobalID:0x000055b6292926a8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/51>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [80cac7b7-c794-4e79-be88-ab75278f1175] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 4u9nloi76skaabkl5ag17kls0csi[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80cac7b7-c794-4e79-be88-ab75278f1175] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [80cac7b7-c794-4e79-be88-ab75278f1175]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80cac7b7-c794-4e79-be88-ab75278f1175]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 51]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [80cac7b7-c794-4e79-be88-ab75278f1175]   [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80cac7b7-c794-4e79-be88-ab75278f1175] Performed ActiveStorage::AnalyzeJob (Job ID: 80cac7b7-c794-4e79-be88-ab75278f1175) from Async(default) in 5.84ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Entrada"], ["restaurant_id", 14], ["created_at", "2021-05-15 19:52:19.555265"], ["updated_at", "2021-05-15 19:52:19.555265"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Hossomaki 16 unidades"], ["description", "Enrolado fino com folha de alga marinha por fora."], ["price", 20.9], ["product_category_id", 13], ["created_at", "2021-05-15 19:52:19.639372"], ["updated_at", "2021-05-15 19:52:19.639372"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 25], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 25], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0qw7ix2o20amtrhwl3qhzhwhofe7"], ["filename", "hosomaki.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 41505], ["checksum", "L5rVeRpm4bs0OcJHEA4FHg=="], ["created_at", "2021-05-15 19:52:19.696683"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 25], ["blob_id", 52], ["created_at", "2021-05-15 19:52:19.698324"]]
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:19.699731"], ["id", 25]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 0qw7ix2o20amtrhwl3qhzhwhofe7 (checksum: L5rVeRpm4bs0OcJHEA4FHg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 02898ff2-cc12-4a40-9388-85f598e33ce0) to Async(default) with arguments: #<GlobalID:0x000055b62922f3a0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/52>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [02898ff2-cc12-4a40-9388-85f598e33ce0] Performing ActiveStorage::AnalyzeJob (Job ID: 02898ff2-cc12-4a40-9388-85f598e33ce0) from Async(default) enqueued at 2021-05-15T19:52:19Z with arguments: #<GlobalID:0x000055b629204ce0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/52>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [02898ff2-cc12-4a40-9388-85f598e33ce0] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 0qw7ix2o20amtrhwl3qhzhwhofe7[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [02898ff2-cc12-4a40-9388-85f598e33ce0] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [02898ff2-cc12-4a40-9388-85f598e33ce0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [02898ff2-cc12-4a40-9388-85f598e33ce0]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 52]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [02898ff2-cc12-4a40-9388-85f598e33ce0]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [02898ff2-cc12-4a40-9388-85f598e33ce0] Performed ActiveStorage::AnalyzeJob (Job ID: 02898ff2-cc12-4a40-9388-85f598e33ce0) from Async(default) in 6.06ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Hot roll - 10 unidades"], ["description", "10 unidades."], ["price", 12.0], ["product_category_id", 13], ["created_at", "2021-05-15 19:52:19.787163"], ["updated_at", "2021-05-15 19:52:19.787163"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 26], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 26], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4662fkngg1vkjxbkjsqod0nly4dj"], ["filename", "hot-holl.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 35208], ["checksum", "kgUfOpJ5Rx4YYaq3kJUbZw=="], ["created_at", "2021-05-15 19:52:19.794913"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 26], ["blob_id", 53], ["created_at", "2021-05-15 19:52:19.796269"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:19.797027"], ["id", 26]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: 4662fkngg1vkjxbkjsqod0nly4dj (checksum: kgUfOpJ5Rx4YYaq3kJUbZw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 29cf7308-2e82-4aa8-85d3-b612cfe329ea) to Async(default) with arguments: #<GlobalID:0x000055b6286d29d0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/53>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [29cf7308-2e82-4aa8-85d3-b612cfe329ea] Performing ActiveStorage::AnalyzeJob (Job ID: 29cf7308-2e82-4aa8-85d3-b612cfe329ea) from Async(default) enqueued at 2021-05-15T19:52:19Z with arguments: #<GlobalID:0x000055b6286b7338 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/53>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [29cf7308-2e82-4aa8-85d3-b612cfe329ea] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 4662fkngg1vkjxbkjsqod0nly4dj[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [29cf7308-2e82-4aa8-85d3-b612cfe329ea] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [29cf7308-2e82-4aa8-85d3-b612cfe329ea]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [29cf7308-2e82-4aa8-85d3-b612cfe329ea]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 53]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [29cf7308-2e82-4aa8-85d3-b612cfe329ea]   [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [29cf7308-2e82-4aa8-85d3-b612cfe329ea] Performed ActiveStorage::AnalyzeJob (Job ID: 29cf7308-2e82-4aa8-85d3-b612cfe329ea) from Async(default) in 5.31ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Club Life"], ["description", "NOSSA ESPECIALIDADE. pratos vegetais de alta qualidade,com opções de alimentos integrais, sem glúten e sem lactose."], ["delivery_tax", 5.7], ["city", "São Paulo"], ["street", "Alameda dos Uapês"], ["neighborhood", "Planalto Paulista"], ["number", "933"], ["category_id", 4], ["created_at", "2021-05-15 19:52:28.676933"], ["updated_at", "2021-05-15 19:52:28.676933"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nd2x2ihqkx96vswkeb65goqbd2fz"], ["filename", "7.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 361665], ["checksum", "ot63IknMjw86v0CYSI50/A=="], ["created_at", "2021-05-15 19:52:28.751261"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 15], ["blob_id", 54], ["created_at", "2021-05-15 19:52:28.752435"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:28.753920"], ["id", 15]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: nd2x2ihqkx96vswkeb65goqbd2fz (checksum: ot63IknMjw86v0CYSI50/A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5) to Async(default) with arguments: #<GlobalID:0x000055b6282e0f70 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/54>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5] Performing ActiveStorage::AnalyzeJob (Job ID: c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5) from Async(default) enqueued at 2021-05-15T19:52:28Z with arguments: #<GlobalID:0x000055b6285a64f8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/54>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: nd2x2ihqkx96vswkeb65goqbd2fz[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 54]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5] Performed ActiveStorage::AnalyzeJob (Job ID: c9a90bc9-2ecf-4d5b-a0c4-ddc0184c0ee5) from Async(default) in 6.78ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Saladas, molhos e wraps"], ["restaurant_id", 15], ["created_at", "2021-05-15 19:52:28.840686"], ["updated_at", "2021-05-15 19:52:28.840686"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Coleslaw"], ["description", "Repolho roxo, couve, cenoura, cebola, maionese de castanha e xylitol"], ["price", 8.99], ["product_category_id", 14], ["created_at", "2021-05-15 19:52:28.952570"], ["updated_at", "2021-05-15 19:52:28.952570"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 27], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 27], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "j2i761wz1vydulo78i9h1rvoqywv"], ["filename", "coleslaw.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 1676701], ["checksum", "0jf2RIpmyk8FNvZtmdOc8g=="], ["created_at", "2021-05-15 19:52:29.032814"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 27], ["blob_id", 55], ["created_at", "2021-05-15 19:52:29.034436"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:29.035337"], ["id", 27]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: j2i761wz1vydulo78i9h1rvoqywv (checksum: 0jf2RIpmyk8FNvZtmdOc8g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c53557a5-8cdf-489f-962b-05717a5b2107) to Async(default) with arguments: #<GlobalID:0x000055b62866dcd8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/55>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c53557a5-8cdf-489f-962b-05717a5b2107] Performing ActiveStorage::AnalyzeJob (Job ID: c53557a5-8cdf-489f-962b-05717a5b2107) from Async(default) enqueued at 2021-05-15T19:52:29Z with arguments: #<GlobalID:0x000055b6287aa268 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/55>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c53557a5-8cdf-489f-962b-05717a5b2107] [36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: j2i761wz1vydulo78i9h1rvoqywv[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c53557a5-8cdf-489f-962b-05717a5b2107] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c53557a5-8cdf-489f-962b-05717a5b2107]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c53557a5-8cdf-489f-962b-05717a5b2107]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 55]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c53557a5-8cdf-489f-962b-05717a5b2107]   [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c53557a5-8cdf-489f-962b-05717a5b2107] Performed ActiveStorage::AnalyzeJob (Job ID: c53557a5-8cdf-489f-962b-05717a5b2107) from Async(default) in 9.64ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Side salad"], ["description", "Mix de folhas com cenoura ralada, tomatinho sweet e semente de girassol."], ["price", 9.9], ["product_category_id", 14], ["created_at", "2021-05-15 19:52:29.122103"], ["updated_at", "2021-05-15 19:52:29.122103"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 28], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 28], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xdcirepk2o6krmi9yesanm6mrf1t"], ["filename", "side-salad.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 12713], ["checksum", "xTk3hPNVamAITlrohCxp3g=="], ["created_at", "2021-05-15 19:52:29.129593"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 28], ["blob_id", 56], ["created_at", "2021-05-15 19:52:29.130780"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:29.131809"], ["id", 28]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: xdcirepk2o6krmi9yesanm6mrf1t (checksum: xTk3hPNVamAITlrohCxp3g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 27f38119-b6c0-43cb-90f5-9092d442d458) to Async(default) with arguments: #<GlobalID:0x000055b628500080 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/56>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [27f38119-b6c0-43cb-90f5-9092d442d458] Performing ActiveStorage::AnalyzeJob (Job ID: 27f38119-b6c0-43cb-90f5-9092d442d458) from Async(default) enqueued at 2021-05-15T19:52:29Z with arguments: #<GlobalID:0x000055b62845c0e8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/56>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [27f38119-b6c0-43cb-90f5-9092d442d458] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: xdcirepk2o6krmi9yesanm6mrf1t[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [27f38119-b6c0-43cb-90f5-9092d442d458] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [27f38119-b6c0-43cb-90f5-9092d442d458]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [27f38119-b6c0-43cb-90f5-9092d442d458]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 56]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [27f38119-b6c0-43cb-90f5-9092d442d458]   [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [27f38119-b6c0-43cb-90f5-9092d442d458] Performed ActiveStorage::AnalyzeJob (Job ID: 27f38119-b6c0-43cb-90f5-9092d442d458) from Async(default) in 5.61ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "delivery_tax", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Casa Natural"], ["description", "Oferecemos, desde 1981, refeições ovo-lacto-vegetarianas, leves, saudáveis, balanceadas e principalmente saborosas, procurando aliar o sabor, a qualidade de vida e o bem-estar dos clientes."], ["delivery_tax", 8.3], ["city", "São Paulo"], ["street", "Rua Natal"], ["neighborhood", "Cantinho do Céu"], ["number", "938"], ["category_id", 4], ["created_at", "2021-05-15 19:52:37.564855"], ["updated_at", "2021-05-15 19:52:37.564855"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "n2izqw17a2l03q0y8rbhjx270g91"], ["filename", "8.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 233270], ["checksum", "ywDrROH5JvSaoL5Gzl4zwg=="], ["created_at", "2021-05-15 19:52:37.627818"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 16], ["blob_id", 57], ["created_at", "2021-05-15 19:52:37.629225"]]
  [1m[36mRestaurant Update (0.1ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:37.630146"], ["id", 16]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: n2izqw17a2l03q0y8rbhjx270g91 (checksum: ywDrROH5JvSaoL5Gzl4zwg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d9163dbc-2d50-4b87-b900-b1906b176945) to Async(default) with arguments: #<GlobalID:0x000055b628617cc0 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/57>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9163dbc-2d50-4b87-b900-b1906b176945] Performing ActiveStorage::AnalyzeJob (Job ID: d9163dbc-2d50-4b87-b900-b1906b176945) from Async(default) enqueued at 2021-05-15T19:52:37Z with arguments: #<GlobalID:0x000055b6286ec858 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/57>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9163dbc-2d50-4b87-b900-b1906b176945] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: n2izqw17a2l03q0y8rbhjx270g91[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9163dbc-2d50-4b87-b900-b1906b176945] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9163dbc-2d50-4b87-b900-b1906b176945]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9163dbc-2d50-4b87-b900-b1906b176945]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 57]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9163dbc-2d50-4b87-b900-b1906b176945]   [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9163dbc-2d50-4b87-b900-b1906b176945] Performed ActiveStorage::AnalyzeJob (Job ID: d9163dbc-2d50-4b87-b900-b1906b176945) from Async(default) in 10.78ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Saladas, molhos e wraps"], ["restaurant_id", 16], ["created_at", "2021-05-15 19:52:37.707399"], ["updated_at", "2021-05-15 19:52:37.707399"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Salada de quinoa"], ["description", "Alface americana, roxa, frisee, quinoa cozida, cenoura, tomate, damasco dessecado, amendoa crua."], ["price", 20.9], ["product_category_id", 15], ["created_at", "2021-05-15 19:52:37.781254"], ["updated_at", "2021-05-15 19:52:37.781254"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 29], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 29], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "92xe4u1i6pb6rqzagdze6dndscgo"], ["filename", "salada-de-quinoa.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 47435], ["checksum", "UnYA+SnYpMtqUxycmI1Xsw=="], ["created_at", "2021-05-15 19:52:37.853945"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 29], ["blob_id", 58], ["created_at", "2021-05-15 19:52:37.855246"]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:37.856277"], ["id", 29]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 92xe4u1i6pb6rqzagdze6dndscgo (checksum: UnYA+SnYpMtqUxycmI1Xsw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 29694502-1025-4f00-aec0-052a2529ca54) to Async(default) with arguments: #<GlobalID:0x00007f3b8c132d50 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/58>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [29694502-1025-4f00-aec0-052a2529ca54] Performing ActiveStorage::AnalyzeJob (Job ID: 29694502-1025-4f00-aec0-052a2529ca54) from Async(default) enqueued at 2021-05-15T19:52:37Z with arguments: #<GlobalID:0x00007f3b900060b8 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/58>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [29694502-1025-4f00-aec0-052a2529ca54] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 92xe4u1i6pb6rqzagdze6dndscgo[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [29694502-1025-4f00-aec0-052a2529ca54] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [29694502-1025-4f00-aec0-052a2529ca54]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [29694502-1025-4f00-aec0-052a2529ca54]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 58]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [29694502-1025-4f00-aec0-052a2529ca54]   [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [29694502-1025-4f00-aec0-052a2529ca54] Performed ActiveStorage::AnalyzeJob (Job ID: 29694502-1025-4f00-aec0-052a2529ca54) from Async(default) in 4.97ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Coleslaw"], ["description", "Repolho roxo, couve, cenoura, cebola, maionese de castanha e xylitol"], ["price", 11.0], ["product_category_id", 15], ["created_at", "2021-05-15 19:52:38.921747"], ["updated_at", "2021-05-15 19:52:38.921747"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 30], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 30], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "jtbif9gmurkfe7gpshzi3750o9e2"], ["filename", "coleslaw2.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 6787], ["checksum", "NA8MazS7tTk94BbJrDJERw=="], ["created_at", "2021-05-15 19:52:38.945910"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 30], ["blob_id", 59], ["created_at", "2021-05-15 19:52:38.948223"]]
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2021-05-15 19:52:38.950106"], ["id", 30]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: jtbif9gmurkfe7gpshzi3750o9e2 (checksum: NA8MazS7tTk94BbJrDJERw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 376940a5-c12e-424f-a12c-e5b8337a17af) to Async(default) with arguments: #<GlobalID:0x00007f3b90036308 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/59>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [376940a5-c12e-424f-a12c-e5b8337a17af] Performing ActiveStorage::AnalyzeJob (Job ID: 376940a5-c12e-424f-a12c-e5b8337a17af) from Async(default) enqueued at 2021-05-15T19:52:38Z with arguments: #<GlobalID:0x000055b629490108 @uri=#<URI::GID gid://chafood/ActiveStorage::Blob/59>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [376940a5-c12e-424f-a12c-e5b8337a17af] [36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: jtbif9gmurkfe7gpshzi3750o9e2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [376940a5-c12e-424f-a12c-e5b8337a17af] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [376940a5-c12e-424f-a12c-e5b8337a17af]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [376940a5-c12e-424f-a12c-e5b8337a17af]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 59]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [376940a5-c12e-424f-a12c-e5b8337a17af]   [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [376940a5-c12e-424f-a12c-e5b8337a17af] Performed ActiveStorage::AnalyzeJob (Job ID: 376940a5-c12e-424f-a12c-e5b8337a17af) from Async(default) in 8.14ms
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/api/categories" for ::1 at 2021-05-15 17:03:26 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#index as JSON
  Rendering categories/index.json.jbuilder
  Rendered categories/index.json.jbuilder (Duration: 1.7ms | Allocations: 1016)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms | Allocations: 6059)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check json.array! @categories |category|
  json.id category.id
  json.title category.title
  json.image_url polymorphic_url(category.image) if category.image.attached?
end

):
1:    json.array! @categories |category|
2:      json.id category.id
3:      json.title category.title
4:      json.image_url polymorphic_url(category.image) if category.image.attached?
5:    end
  
app/views/categories/index.json.jbuilder:2: syntax error, unexpected local variable or method, expecting `end'
app/views/categories/index.json.jbuilder:8: syntax error, unexpected `end', expecting end-of-input
app/views/categories/index.json.jbuilder:2: syntax error, unexpected local variable or method, expecting `end'
app/views/categories/index.json.jbuilder:8: syntax error, unexpected `end', expecting end-of-input
app/views/categories/index.json.jbuilder:2: syntax error, unexpected local variable or method, expecting `end'
app/views/categories/index.json.jbuilder:8: syntax error, unexpected `end', expecting end-of-input
app/views/categories/index.json.jbuilder:2: syntax error, unexpected local variable or method, expecting `end'
app/views/categories/index.json.jbuilder:8: syntax error, unexpected `end', expecting end-of-input
Started GET "/api/categories" for ::1 at 2021-05-15 17:03:41 -0300
Processing by CategoriesController#index as JSON
  Rendering categories/index.json.jbuilder
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."title" ASC[0m
  ↳ app/views/categories/index.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  Rendered categories/index.json.jbuilder (Duration: 63.3ms | Allocations: 29876)
Completed 200 OK in 65ms (Views: 60.4ms | ActiveRecord: 3.6ms | Allocations: 30652)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--57949132c62c00c1b15cdc74beb326ae7544b4b4/italian.jpeg" for 127.0.0.1 at 2021-05-15 17:04:04 -0300
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--57949132c62c00c1b15cdc74beb326ae7544b4b4", "filename"=>"italian"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[36m  Disk Storage (5.5ms) [0m[34mGenerated URL for file at key: y60edb0ihnj4apv0yr3s9fg2w735 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVFl3WldSaU1HbG9ibW8wWVhCMk1IbHlNM001Wm1jeWR6Y3pOUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUTJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1sMFlXeHBZVzR1YW5CbFp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25hWFJoYkdsaGJpNXFjR1ZuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJUGFXMWhaMlV2YW5CbFp3WTdCbFE2RVhObGNuWnBZMlZmYm1GdFpUb0tiRzlqWVd3PSIsImV4cCI6IjIwMjEtMDUtMTVUMjA6MDk6MDQuNDY0WiIsInB1ciI6ImJsb2Jfa2V5In19--c2f72fafe76dfe7bec9009811e2023e8e3cfc37a/italian.jpeg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVFl3WldSaU1HbG9ibW8wWVhCMk1IbHlNM001Wm1jeWR6Y3pOUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUTJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1sMFlXeHBZVzR1YW5CbFp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25hWFJoYkdsaGJpNXFjR1ZuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJUGFXMWhaMlV2YW5CbFp3WTdCbFE2RVhObGNuWnBZMlZmYm1GdFpUb0tiRzlqWVd3PSIsImV4cCI6IjIwMjEtMDUtMTVUMjA6MDk6MDQuNDY0WiIsInB1ciI6ImJsb2Jfa2V5In19--c2f72fafe76dfe7bec9009811e2023e8e3cfc37a/italian.jpeg
Completed 302 Found in 10ms (ActiveRecord: 0.1ms | Allocations: 9384)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVFl3WldSaU1HbG9ibW8wWVhCMk1IbHlNM001Wm1jeWR6Y3pOUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUTJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1sMFlXeHBZVzR1YW5CbFp5STdJR1pwYkdWdVlXMWxLajFWVkVZdE9DY25hWFJoYkdsaGJpNXFjR1ZuQmpzR1ZEb1JZMjl1ZEdWdWRGOTBlWEJsU1NJUGFXMWhaMlV2YW5CbFp3WTdCbFE2RVhObGNuWnBZMlZmYm1GdFpUb0tiRzlqWVd3PSIsImV4cCI6IjIwMjEtMDUtMTVUMjA6MDk6MDQuNDY0WiIsInB1ciI6ImJsb2Jfa2V5In19--c2f72fafe76dfe7bec9009811e2023e8e3cfc37a/italian.jpeg" for 127.0.0.1 at 2021-05-15 17:04:04 -0300
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"italian"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 318)


Started GET "/api/categories" for ::1 at 2021-05-15 17:23:34 -0300
Processing by CategoriesController#index as JSON
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/categories_controller.rb:3:in `index'
  Rendering categories/index.json.jbuilder
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."title" ASC[0m
  ↳ app/views/categories/index.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/categories/index.json.jbuilder:4
  Rendered categories/index.json.jbuilder (Duration: 29.5ms | Allocations: 9055)
Completed 200 OK in 32ms (Views: 28.7ms | ActiveRecord: 1.8ms | Allocations: 9842)


Started GET "/api/restaurants?city=Curitiba&category=mexicana&q=som" for ::1 at 2021-05-15 20:25:38 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"Curitiba", "category"=>"mexicana", "q"=>"som"}
  Rendering restaurants/index.json.jbuilder
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  ↳ app/views/restaurants/index.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.3ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 4]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 3]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.0ms | Allocations: 2052)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.4ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 17.3ms | Allocations: 10462)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 46.9ms | Allocations: 35491)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 5]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 4]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.6ms | Allocations: 1835)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 2.8ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 8.3ms | Allocations: 4558)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 15.3ms | Allocations: 7012)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 6]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 5]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.4ms | Allocations: 1835)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.1ms | Allocations: 1943)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 10.0ms | Allocations: 4666)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 14.1ms | Allocations: 7115)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 7]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 6]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.8ms | Allocations: 1835)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.2ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 10.7ms | Allocations: 4558)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 14.7ms | Allocations: 7007)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 8]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 7]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.2ms | Allocations: 1835)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.1ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 9.7ms | Allocations: 4558)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 14.6ms | Allocations: 7007)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 9]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 8]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.5ms | Allocations: 1835)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 2.8ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 8.4ms | Allocations: 4558)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 13.4ms | Allocations: 7007)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 10]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 9]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 17], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.4ms | Allocations: 1836)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 18], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.1ms | Allocations: 1836)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 8.0ms | Allocations: 4560)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 14.0ms | Allocations: 7009)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 11]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 10]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 19], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.0ms | Allocations: 1836)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 20], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 2.7ms | Allocations: 1836)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 7.9ms | Allocations: 4560)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 13.7ms | Allocations: 7010)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 12]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 11]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 21], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.1ms | Allocations: 1837)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 22], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.7ms | Allocations: 1836)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 21.5ms | Allocations: 4580)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 25.5ms | Allocations: 7047)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 13]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 12]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 23], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 2.4ms | Allocations: 1836)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 24], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.0ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 6.5ms | Allocations: 4559)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 10.8ms | Allocations: 7008)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 14]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 13]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 25], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.2ms | Allocations: 1836)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 26], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.3ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 11.4ms | Allocations: 4559)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 16.2ms | Allocations: 7008)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 15]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 14]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 27], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.0ms | Allocations: 1836)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 28], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.9ms | Allocations: 1836)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 8.4ms | Allocations: 4560)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 15.9ms | Allocations: 7009)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 16]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 15]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 29], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.6ms | Allocations: 1836)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 30], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.0ms | Allocations: 1836)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 11.0ms | Allocations: 4560)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 17.7ms | Allocations: 7009)
  Rendered restaurants/index.json.jbuilder (Duration: 245.7ms | Allocations: 130663)
Completed 200 OK in 256ms (Views: 234.6ms | ActiveRecord: 13.5ms | Allocations: 136357)


Started GET "/api/restaurants/10" for ::1 at 2021-05-15 20:26:28 -0300
Processing by RestaurantsController#show as JSON
  Parameters: {"id"=>"10"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:13:in `set_restaurant'
  Rendering restaurants/show.json.jbuilder
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 10]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 9]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 17], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.9ms | Allocations: 1823)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 18], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.2ms | Allocations: 1816)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 11.6ms | Allocations: 4519)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 18.2ms | Allocations: 6961)
  Rendered restaurants/show.json.jbuilder (Duration: 19.0ms | Allocations: 7301)
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 1.1ms | Allocations: 8327)


Started GET "/api/available_cities" for ::1 at 2021-05-15 20:26:38 -0300
Processing by AvailableCitiesController#index as JSON
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  ↳ app/controllers/available_cities_controller.rb:3:in `map'
  Rendering available_cities/index.json.jbuilder
  Rendered available_cities/index.json.jbuilder (Duration: 0.4ms | Allocations: 134)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 1498)


Started GET "/api/restaurants?city=Curitiba&category=mexicana&q=som" for ::1 at 2021-05-15 20:33:28 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"Curitiba", "category"=>"mexicana", "q"=>"som"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/restaurants_controller.rb:18:in `filter_by_query'
  Rendering restaurants/index.json.jbuilder
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%som%' OR "restaurants"."description" LIKE '%som%')[0m
  ↳ app/views/restaurants/index.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 4]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 3]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.2ms | Allocations: 1985)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.1ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 28.5ms | Allocations: 9698)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 55.3ms | Allocations: 27645)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 5]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 4]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.0ms | Allocations: 1835)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.7ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 8.5ms | Allocations: 4558)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 17.2ms | Allocations: 7012)
  Rendered restaurants/index.json.jbuilder (Duration: 81.9ms | Allocations: 40590)
Completed 200 OK in 89ms (Views: 80.8ms | ActiveRecord: 3.1ms | Allocations: 45380)


Started GET "/api/restaurants?city=Curitiba&category=mexicana&q=bravo" for ::1 at 2021-05-15 20:33:42 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"Curitiba", "category"=>"mexicana", "q"=>"bravo"}
  Rendering restaurants/index.json.jbuilder
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%bravo%' OR "restaurants"."description" LIKE '%bravo%')[0m
  ↳ app/views/restaurants/index.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 8]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 7]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.6ms | Allocations: 1841)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.7ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 10.5ms | Allocations: 4566)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 18.5ms | Allocations: 7038)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 9]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 8]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.2ms | Allocations: 1835)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.0ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 11.2ms | Allocations: 4558)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 17.4ms | Allocations: 7008)
  Rendered restaurants/index.json.jbuilder (Duration: 38.1ms | Allocations: 15153)
Completed 200 OK in 40ms (Views: 36.3ms | ActiveRecord: 2.2ms | Allocations: 15781)


Started GET "/api/restaurants?city=Curitiba&category=mexicana&q=missao" for ::1 at 2021-05-15 20:34:03 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"Curitiba", "category"=>"mexicana", "q"=>"missao"}
  Rendering restaurants/index.json.jbuilder
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%missao%' OR "restaurants"."description" LIKE '%missao%')[0m
  ↳ app/views/restaurants/index.json.jbuilder:1
  Rendered restaurants/index.json.jbuilder (Duration: 1.0ms | Allocations: 534)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 1071)


Started GET "/api/restaurants?city=Curitiba&category=mexicana&q=miss%C3%A3o" for ::1 at 2021-05-15 20:34:10 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"Curitiba", "category"=>"mexicana", "q"=>"missão"}
  Rendering restaurants/index.json.jbuilder
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%missão%' OR "restaurants"."description" LIKE '%missão%')[0m
  ↳ app/views/restaurants/index.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 4]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 3]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 6.6ms | Allocations: 1841)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 6.7ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 16.2ms | Allocations: 4566)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 25.6ms | Allocations: 7032)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 5]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 4]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.5ms | Allocations: 1835)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.4ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 13.3ms | Allocations: 4558)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 21.4ms | Allocations: 7008)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 10]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 9]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 17], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.8ms | Allocations: 1836)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 18], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.0ms | Allocations: 1944)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 10.9ms | Allocations: 4668)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 17.3ms | Allocations: 7121)
  Rendered restaurants/index.json.jbuilder (Duration: 66.7ms | Allocations: 22549)
Completed 200 OK in 68ms (Views: 63.4ms | ActiveRecord: 3.6ms | Allocations: 23076)


Started GET "/api/restaurants?city=Curitiba&category=mexicana&q=miss%C3%A3o" for ::1 at 2021-05-15 20:35:17 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"Curitiba", "category"=>"mexicana", "q"=>"missão"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/restaurants_controller.rb:19:in `filter_by_query'
  Rendering restaurants/index.json.jbuilder
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%missão%' OR "restaurants"."description" LIKE '%missão%') AND "restaurants"."city" = ?[0m  [["city", "Curitiba"]]
  ↳ app/views/restaurants/index.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 5]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 4]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.5ms | Allocations: 1983)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 3.3ms | Allocations: 1988)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 19.8ms | Allocations: 10218)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 53.6ms | Allocations: 29358)
  Rendered restaurants/index.json.jbuilder (Duration: 69.9ms | Allocations: 35086)
Completed 200 OK in 77ms (Views: 67.5ms | ActiveRecord: 3.6ms | Allocations: 39889)


Started GET "/api/restaurants?city=Maceio&category=mexicana&q=miss%C3%A3o" for ::1 at 2021-05-15 20:35:28 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"Maceio", "category"=>"mexicana", "q"=>"missão"}
  Rendering restaurants/index.json.jbuilder
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%missão%' OR "restaurants"."description" LIKE '%missão%') AND "restaurants"."city" = ?[0m  [["city", "Maceio"]]
  ↳ app/views/restaurants/index.json.jbuilder:1
  Rendered restaurants/index.json.jbuilder (Duration: 1.1ms | Allocations: 517)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 1180)


Started GET "/api/restaurants?city=S%C3%A3o%20Paulo&category=mexicana&q=miss%C3%A3o" for ::1 at 2021-05-15 20:35:34 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"São Paulo", "category"=>"mexicana", "q"=>"missão"}
  Rendering restaurants/index.json.jbuilder
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%missão%' OR "restaurants"."description" LIKE '%missão%') AND "restaurants"."city" = ?[0m  [["city", "São Paulo"]]
  ↳ app/views/restaurants/index.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 4]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 3]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 7.1ms | Allocations: 1841)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 6.3ms | Allocations: 1835)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 16.9ms | Allocations: 4566)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 25.9ms | Allocations: 7041)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 10]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 9]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 17], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.7ms | Allocations: 1836)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 18], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.3ms | Allocations: 1836)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 13.0ms | Allocations: 4560)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 20.7ms | Allocations: 7010)
  Rendered restaurants/index.json.jbuilder (Duration: 49.2ms | Allocations: 15138)
Completed 200 OK in 52ms (Views: 47.5ms | ActiveRecord: 2.6ms | Allocations: 15693)


Started GET "/api/restaurants?city=S%C3%A3o%20Paulo&category=mexicana&q=miss%C3%A3o" for ::1 at 2021-05-15 20:36:42 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"São Paulo", "category"=>"mexicana", "q"=>"missão"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/restaurants_controller.rb:20:in `filter_by_query'
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%missão%' OR "restaurants"."description" LIKE '%missão%') AND "restaurants"."city" = ?[0m  [["city", "São Paulo"]]
  ↳ app/controllers/restaurants_controller.rb:28:in `filter_by_category'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:29:in `block in filter_by_category'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:29:in `block in filter_by_category'
  Rendering restaurants/index.json.jbuilder
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 4]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 3]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.5ms | Allocations: 1979)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.1ms | Allocations: 1831)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 20.9ms | Allocations: 10212)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 53.8ms | Allocations: 29274)
  Rendered restaurants/index.json.jbuilder (Duration: 54.4ms | Allocations: 29645)
Completed 200 OK in 90ms (Views: 51.9ms | ActiveRecord: 5.0ms | Allocations: 44716)


Started GET "/api/restaurants?city=Curitiba&category=mexicana&q=som" for ::1 at 2021-05-15 20:37:12 -0300
Processing by RestaurantsController#index as JSON
  Parameters: {"city"=>"Curitiba", "category"=>"mexicana", "q"=>"som"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%som%' OR "restaurants"."description" LIKE '%som%') AND "restaurants"."city" = ?[0m  [["city", "Curitiba"]]
  ↳ app/controllers/restaurants_controller.rb:28:in `filter_by_category'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:29:in `block in filter_by_category'
  Rendering restaurants/index.json.jbuilder
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:10
  [1m[36mProductCategory Load (0.1ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 5]]
  ↳ app/views/restaurants/_restaurant.json.jbuilder:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 4]]
  ↳ app/views/product_categories/_product_category.json.jbuilder:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 5.1ms | Allocations: 1837)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/views/products/_product.json.jbuilder:5
  Rendered products/_product.json.jbuilder (Duration: 4.2ms | Allocations: 1831)
  Rendered product_categories/_product_category.json.jbuilder (Duration: 11.3ms | Allocations: 4556)
  Rendered restaurants/_restaurant.json.jbuilder (Duration: 17.0ms | Allocations: 7025)
  Rendered restaurants/index.json.jbuilder (Duration: 17.5ms | Allocations: 7322)
Completed 200 OK in 23ms (Views: 17.2ms | ActiveRecord: 1.3ms | Allocations: 9011)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddStreetToOrder (20210515235326)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "orders" ADD "street" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210515235326"]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/orders" for ::1 at 2021-05-15 20:53:58 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
[31mUnpermitted parameter: :restaurant_id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.1ms | Allocations: 15627)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 20:54:44 -0300
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.5ms | Allocations: 15760)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 20:57:36 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.5ms | Allocations: 19351)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 20:58:35 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.2ms | Allocations: 19457)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 20:59:06 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.4ms | Allocations: 19443)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 20:59:08 -0300
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 2521)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 20:59:31 -0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.2ms | Allocations: 19351)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 21:09:41 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.3ms | Allocations: 19400)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started POST "/api/orders" for ::1 at 2021-05-15 21:16:43 -0300
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms | Allocations: 3161)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 21:17:08 -0300
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>5, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>1}]}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2451)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/models/order.rb:18:in `block in set_price'
app/models/order.rb:17:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/api/orders" for ::1 at 2021-05-15 21:17:36 -0300
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>1, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>5}]}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:20:in `set_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.7ms | Allocations: 10437)


  
NoMethodError (undefined method `delivery_tax' for nil:NilClass):
  
app/models/order.rb:20:in `set_price'
app/controllers/orders_controller.rb:6:in `create'
Started GET "/api/orders/1" for ::1 at 2021-05-15 21:19:04 -0300
Processing by OrdersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `set_order'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 907)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=1):
  
app/controllers/orders_controller.rb:18:in `set_order'
Started GET "/api/orders/5" for ::1 at 2021-05-15 21:19:12 -0300
Processing by OrdersController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `set_order'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 483)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=5):
  
app/controllers/orders_controller.rb:18:in `set_order'
Started GET "/api/orders/1" for ::1 at 2021-05-15 21:19:18 -0300
Processing by OrdersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `set_order'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 484)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=1):
  
app/controllers/orders_controller.rb:18:in `set_order'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/api/orders" for ::1 at 2021-05-15 21:24:30 -0300
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>4, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>5}]}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/order.rb:20:in `set_price'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "phone_number", "total_value", "city", "neighborhood", "number", "complement", "restaurant_id", "created_at", "updated_at", "street") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Leonardo Scorza"], ["phone_number", "19997098765"], ["total_value", 24.5], ["city", "Curitiba"], ["neighborhood", "Tingui"], ["number", "115"], ["complement", "apartamento 4"], ["restaurant_id", 4], ["created_at", "2021-05-16 00:24:30.055744"], ["updated_at", "2021-05-16 00:24:30.055744"], ["street", "Verone Piccolli"]]
  ↳ app/controllers/orders_controller.rb:6:in `create'
  [1m[36mOrderProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["quantity", 1], ["order_id", 1], ["product_id", 5], ["created_at", "2021-05-16 00:24:30.059214"], ["updated_at", "2021-05-16 00:24:30.059214"]]
  ↳ app/controllers/orders_controller.rb:6:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
  Rendering orders/create.json.jbuilder
  Rendered orders/_order.json.jbuilder (Duration: 0.2ms | Allocations: 170)
  Rendered orders/create.json.jbuilder (Duration: 1.4ms | Allocations: 982)
Completed 200 OK in 32ms (Views: 2.4ms | ActiveRecord: 2.7ms | Allocations: 15617)


Started GET "/api/orders/1" for ::1 at 2021-05-15 21:31:15 -0300
Processing by OrdersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/orders_controller.rb:18:in `set_order'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `set_order'
  Rendering orders/show.json.jbuilder
  Rendered orders/_order.json.jbuilder (Duration: 0.2ms | Allocations: 58)
  Rendered orders/show.json.jbuilder (Duration: 0.8ms | Allocations: 278)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 1665)


Started POST "/api/orders" for ::1 at 2021-05-15 21:33:59 -0300
Processing by OrdersController#create as JSON
  Parameters: {"order"=>{"name"=>"Leonardo Scorza", "phone_number"=>"19997098765", "restaurant_id"=>4, "city"=>"Curitiba", "neighborhood"=>"Tingui", "street"=>"Verone Piccolli", "number"=>"115", "complement"=>"apartamento 4", "order_products_attributes"=>[{"quantity"=>1, "product_id"=>5}, {"quantity"=>5, "product_id"=>5}]}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/order.rb:18:in `block in set_price'
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/order.rb:20:in `set_price'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "phone_number", "total_value", "city", "neighborhood", "number", "complement", "restaurant_id", "created_at", "updated_at", "street") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Leonardo Scorza"], ["phone_number", "19997098765"], ["total_value", 119.5], ["city", "Curitiba"], ["neighborhood", "Tingui"], ["number", "115"], ["complement", "apartamento 4"], ["restaurant_id", 4], ["created_at", "2021-05-16 00:33:59.197442"], ["updated_at", "2021-05-16 00:33:59.197442"], ["street", "Verone Piccolli"]]
  ↳ app/controllers/orders_controller.rb:6:in `create'
  [1m[36mOrderProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["quantity", 1], ["order_id", 2], ["product_id", 5], ["created_at", "2021-05-16 00:33:59.201542"], ["updated_at", "2021-05-16 00:33:59.201542"]]
  ↳ app/controllers/orders_controller.rb:6:in `create'
  [1m[36mOrderProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["quantity", 5], ["order_id", 2], ["product_id", 5], ["created_at", "2021-05-16 00:33:59.204289"], ["updated_at", "2021-05-16 00:33:59.204289"]]
  ↳ app/controllers/orders_controller.rb:6:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
  Rendering orders/create.json.jbuilder
  Rendered orders/_order.json.jbuilder (Duration: 0.1ms | Allocations: 57)
  Rendered orders/create.json.jbuilder (Duration: 0.9ms | Allocations: 221)
Completed 200 OK in 21ms (Views: 1.3ms | ActiveRecord: 3.4ms | Allocations: 8854)


Started GET "/api/orders/1" for ::1 at 2021-05-16 00:07:07 -0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `set_order'
  Rendering orders/show.json.jbuilder
  Rendered orders/_order.json.jbuilder (Duration: 0.3ms | Allocations: 192)
  Rendered orders/show.json.jbuilder (Duration: 2.7ms | Allocations: 1049)
Completed 200 OK in 28ms (Views: 5.4ms | ActiveRecord: 0.9ms | Allocations: 13260)


Started GET "/api/orders/2" for ::1 at 2021-05-16 00:07:11 -0300
Processing by OrdersController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `set_order'
  Rendering orders/show.json.jbuilder
  Rendered orders/_order.json.jbuilder (Duration: 0.1ms | Allocations: 48)
  Rendered orders/show.json.jbuilder (Duration: 0.4ms | Allocations: 212)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 978)


